/*:
 * @target MZ
 * @plugindesc A plugin for crafting custom menus and interfaces with pictures and eventing, support drag-n-drop
 * @author Sang Hendrix
 * @url https://sanghendrix.itch.io/
 *
 * @help
 * Verion 1.0.0
 * ----------------------------------------------------------------------------
 * This RPG Maker MZ/MV plugin enables you to craft custom menus and various
 * interfaces using pictures and eventing. It supports in-game drag-and-drop
 * functionality for pictures and offers numerous conditional branches,
 * simplifying the process significantly compared to working without this plugin.
 * ----------------------------------------------------------------------------
 * FEATURES
 * - In-game drag-and-drop ANY pictures showing on screen to modify their positions,
 * as well as their move pictures command's position
 * - Pictures position will be saved across game sessions
 * - Create not just regular menus but also mobile buttons and many other interface,
 * up to your creativity
 * - New conditional branches for easier interface creation, such as:
 * Check if a picture is clicked or being hovered
 * - Commands to make a more complex menu: Display picture at the same position
 * of other pictures, delete multiple pictures, delete all pictures on screen,
 * call scenes, open URL, etc.
 * - Display dynamic text on screen, they can also be drag-and-drop
 * - An awesome dev to support you 24/7
 * ----------------------------------------------------------------------------
 * HOW TO USE
 * 1. Use Show Pictures command to show all your pictures on to screen
 * 2. Go in-game, press pageup (W) to enter drag-n-drop mode, then adjust layout
 * 3. Create conditional branch > pictureAction(picturename or id, action (click/ hover))
 * Example: pictureAction('Button', 'click')
 *          pictureAction(3, 'hover')
 * ----------------------------------------------------------------------------
 * NOTE
 * o  Show Picture if ID match with another picture on screen and has both xy = 0,
 *    it will replace the image without changing its initial position
 * o  Move Picture is x y = 0, it won't move to 0. Best to used for making animation
 *    without worrying about checking position of a picture
 * o  Hold and drag bottom right corner of window texts to rescale
 * o  Press RESET to reset all Show Pictures and Move Pictures command positions
 * ----------------------------------------------------------------------------
 * For support or bug report, please contact via Discord
 * Discord: https://discord.gg/YKPscqHV8b
 * 
 * @command a
 * @text ---------------------------------
 * 
 * @command -----2
 * @text ■ PICTURE COMMANDS
 * 
 * @command aa
 * @text ---------------------------------
 * 
 * @command displayAtPicture
 * @text Display At Picture
 * @desc Positions one picture at the same location as another picture
 * @arg sourcePicture
 * @type string
 * @desc Source picture ID or name
 * @default 1
 * @arg targetPicture
 * @type string
 * @desc Target picture ID or name to position at
 * @default 2
 * 
 * @command deletePicture
 * @text Delete Picture
 * @desc Deletes pictures by name, ID, or range of IDs.
 * @arg targets
 * @type string
 * @desc Pictures to delete. Format: name, id, range (x-y). Separate with commas.
 * @default 
 * 
 * @command deleteAllPictures
 * @text Delete All Pictures
 * @desc Deletes all pictures currently shown on screen.
 * 
 * @command aazxc
 * @text ---------------------------------
 * 
 * @command -----2a
 * @text ■ CALL COMMANDS
 * 
 * @command aaasdxc
 * @text ---------------------------------
 * 
 * @command callScene
 * @text Call Scene
 * @desc Opens a game scene.
 * @arg sceneName
 * @type select
 * @option Item
 * @value Scene_Item
 * @option Options
 * @value Scene_Options
 * @option Game End
 * @value Scene_GameEnd
 * @option Save
 * @value Scene_Save
 * @option Load
 * @value Scene_Load
 * @option Status
 * @value Scene_Status
 * @option Equipment
 * @value Scene_Equip
 * @option Skill
 * @value Scene_Skill
 * @default Scene_Item
 *
 * @command openURL
 * @text Open URL
 * @desc Opens a URL in the default browser
 * @arg url
 * @type string
 * @desc The URL to open. Must include http:// or https://
 * @default https://example.com
 * 
 * @command aaasdsd
 * @text ---------------------------------
 * 
 * @command -----2aa
 * @text ■ TEXT COMMANDS
 * 
 * @command aaaasd
 * @text ---------------------------------
 * 
 * @command ShowText
 * @text Show Text Window
 * @desc Shows a text window on the screen
 * 
 * @arg id
 * @type string
 * @text ID
 * @desc The ID of the text window to erase. Can be a number or text.
 * @default 0
 *
 * @arg text
 * @type string
 * @text Text
 * @desc v[x]: Show a variable value. g[]: Display gold amount.
 *
 * @arg sizePosition
 * @type string
 * @text Window Size & Position
 * @desc Format: width, height, x, y
 * @default 300, 200, 0, 0
 *
 * @arg transparent
 * @type boolean
 * @text Transparent Window
 * @desc If true, the window will be transparent.
 * @default false
 * 
 * @arg update
 * @type boolean
 * @text Update Text
 * @desc If true, text will update every 2 frames. Best to use with v[x] aka variable.
 * @default false
 * 
 * @arg textSettings
 * @type struct<TextSettings>
 * @text Text Settings
 * @desc Configure font size, color, outline, line height, bold, and alignment.
 * @default {"fontSize":"28","fontColor":"","outlineColor":"","lineHeight":"","boldText":"false","align":"left"}
 *
 * @command EraseText
 * @text Erase Text
 * @desc Erases the text window with the specified ID.
 *
 * @arg id
 * @type string
 * @text ID
 * @desc The ID of the text window to erase. Can be a number or text.
 * @default 0
 * 
 * @arg fadeOut
 * @type number
 * @text Fade Out Frames
 * @desc Number of frames for fade out effect. 0 = instant removal.
 * @default 0
 * @min 0
 *
 * @command EraseAllText
 * @text Erase All Text
 * @desc Erases all text windows created by this plugin.
 * 
 * @arg fadeOut
 * @type number
 * @text Fade Out Frames
 * @desc Number of frames for fade out effect. 0 = instant removal.
 * @default 0
 * @min 0
 */
/*~struct~TextSettings:
 * @param fontSize
 * @type string
 * @text Font Size
 * @desc The font size of the text. Use v[x] to use a variable value instead.
 * @default
 *
 * @param fontColor
 * @type string
 * @text Font Color
 * @desc The hex code for the font color. Use v[x] to use a variable value instead.
 * @default 
 * 
 * @param outlineColor
 * @text Outline Color
 * @desc The hex color code for the text outline. Leave empty for no outline.
 * @type string
 * @default 
 * 
 * @param lineHeight
 * @type string
 * @text Line Height
 * @desc The line height for the text. If not set, a default value will be used. Use v[x] to use a variable value instead.
 * @default 
 * 
 * @param boldText
 * @text Bold Text
 * @desc Whether the text should be bold.
 * @type boolean
 * @default false
 *
 * @param align
 * @type select
 * @text Align
 * @desc Alignment of the text within the window.
 * @option left
 * @value left
 * @option center
 * @value center
 * @option right
 * @value right
 * @default left
 */
const _0x3a6251=_0x4458;function _0x4458(_0x113d07,_0x3b8553){const _0x3c2f17=_0x3c2f();return _0x4458=function(_0x4458c7,_0x2498ab){_0x4458c7=_0x4458c7-0x1b7;let _0x44c440=_0x3c2f17[_0x4458c7];return _0x44c440;},_0x4458(_0x113d07,_0x3b8553);}(function(_0x7ed3aa,_0x226682){const _0x44dbab=_0x4458,_0x630fa0=_0x7ed3aa();while(!![]){try{const _0x412e50=-parseInt(_0x44dbab(0x297))/0x1+parseInt(_0x44dbab(0x243))/0x2*(parseInt(_0x44dbab(0x1f2))/0x3)+parseInt(_0x44dbab(0x1d6))/0x4+parseInt(_0x44dbab(0x2a6))/0x5*(parseInt(_0x44dbab(0x268))/0x6)+-parseInt(_0x44dbab(0x224))/0x7+-parseInt(_0x44dbab(0x245))/0x8+parseInt(_0x44dbab(0x26d))/0x9;if(_0x412e50===_0x226682)break;else _0x630fa0['push'](_0x630fa0['shift']());}catch(_0x402fef){_0x630fa0['push'](_0x630fa0['shift']());}}}(_0x3c2f,0x44571));var Imported=Imported||{};function _0x3c2f(){const _0x2462cd=['replace','nw.gui','false','36186xhjhEZ','splice','2594592LDykeJ','picturesMovePosition.json','value','startY','updateTextWindowDragging','callScene','lineHeight','$picturePositions','writeFileSync','move','Scene_Skill','frameCount','_pictures','Scene_GameEnd','openExternal','max','determineTopElement','_blank','endX','Error\x20reading\x20existing\x20','Error\x20parsing\x20saved\x20','RESET','error','type','shift','_isDragging','indexOf','textSettings','resetPositions','location','log','text','Error\x20clearing\x20','element','bottom','6ilxVpy','fillRect','Error\x20reading\x20','readFileSync','picture_vertical','2241126lTNBOC','boxWidth','hideAll','HendrixPicturePositions_','call','map','trim','elementType','Scene_Save','width','terminate','showPicture','refreshPicturePositions','right','origin','registerCommand','bitmap','push','Error\x20parsing\x20saved\x20text\x20positions\x20from\x20localStorage','togglePictureDragMode','isDraggingElement','startDrag','update','Hendrix_Pictures_UI_Creator','fontSize','visible','removeChild','centerY','rgb(','_originalY','_pictureId','indicators','contentsWidth','top','_textAlign','_fadeOutCounter','$pictureMovePositions','isReady','readPositions','targetPicture','resetPicturePositions','split','509437nxunMB','_dragOffsetY','#00FF00','addWindow','Invalid\x20URL\x20format.\x20URL\x20must\x20start\x20with\x20http://\x20or\x20https://','_filename','lineTo','_isPictureDragMode','fontColor','fillAll','fontBold','scale','_originalX','Scene_Load','align','2252645GjelzZ','normal','parse','isNwjs','deletePicture','changeTextColor','_dragOffsetX','_textId','slice','mainFontSize','normalColor','_draggable','_spriteset','_pictureContainer','boldText','text_vertical','create','fontItalic','textColor','_originalOpacity','opacity','height','#64ff64','centerX','click','utf8','cos','text_horizontal','\x20positions:','entries','getItem','Error\x20updating\x20','picture','show','_scene','rgba(0,\x200,\x200,\x200.8)','addChild','center','anchor','destroy','\x20positions\x20JSON:','versions','getFilePath','path','1846332PPzkMZ','mainModule','save','stringify','moveTo','find','initialize','Loaded\x20text\x20window\x20positions\x20with\x20size\x20data:','_lineHeight','\x20positions,\x20trying\x20localStorage...','prototype','join','outlineColor','createResetButton','clear','warn','contents','true','_vertical','length','drawLine','startX','pop','HendrixTextPositions','json','includes','sin','endDrag','63txBPar','children','match','isMobileDevice','setBlendColor','isOptionValid','textWidth','vertical','openURL','Scene_Options','_baseTexture','open','transparent','Scene_Equip','canStartDrag','strokeStyle','erasePicture','Could\x20not\x20load\x20','Text\x20window\x20positions\x20saved\x20with\x20size\x20data:','Error\x20saving\x20showTextPositions.json:','endY','existsSync','Shell','abs','gold','Could\x20not\x20load\x20showTextPositions.json,\x20using\x20default\x20positions','js/showTextPositions.json','beginPath','lineWidth','restore','snapX','#666666','\x20positions\x20from\x20localStorage','left','electron','savePositions','isTriggered','hover','EraseText','outlineWidth','_fadeOutFrames','pictureAction','js/','_originalContentsOpacity','#00ff00','Unknown','then','isPressed','picturesPosition.json','drawText','2991779REYywI','_isFadingOut','catch','forEach','_context','data','updateText','displayAtPicture','keys','_horizontal','createContents','href','test','deleteAllPictures','updatePictureDragging','start','picture_horizontal','stroke','hide','_origin','contentsOpacity','Skipping\x20invalid\x20position\x20for\x20','_resetButton','_originalText','boxHeight','atan2','sprite','snapY'];_0x3c2f=function(){return _0x2462cd;};return _0x3c2f();}Imported[_0x3a6251(0x284)]=!![],((()=>{const _0x24943b=_0x3a6251,_0x3ca8d9=_0x24943b(0x284);let _0x5804c8={},_0x14e8ee={},_0x363443=![],_0x1bfea7=null,_0x8b3f55=null,_0x93be59=![],_0x372756={},_0x1375a2={};const _0x225bdf=[],_0x5e7f93={};_0x5e7f93[_0x24943b(0x2a7)]={},_0x5e7f93[_0x24943b(0x24e)]={};const _0x4a2232={'data':_0x5e7f93,'getFilePath':function(_0x332260){const _0x3b3150=_0x24943b;if(Utils['isNwjs']()){const _0x5731d1=require('fs'),_0x3b0e51=require(_0x3b3150(0x1d5)),_0x3ea879={};_0x3ea879[_0x3b3150(0x2a7)]=_0x3b3150(0x222),_0x3ea879[_0x3b3150(0x24e)]=_0x3b3150(0x246);const _0x47397f=_0x3ea879;return _0x3b0e51['join'](process[_0x3b3150(0x1d7)]['filename'],'..','js',_0x47397f[_0x332260]);}else return null;},'readPositions':function(_0x4e1b0a){const _0x4ac6ac=_0x24943b;if(Utils[_0x4ac6ac(0x2a9)]()){const _0x34a312=this[_0x4ac6ac(0x1d4)](_0x4e1b0a),_0x1c2093=require('fs');if(_0x1c2093[_0x4ac6ac(0x207)](_0x34a312))try{return this[_0x4ac6ac(0x229)][_0x4e1b0a]=JSON[_0x4ac6ac(0x2a8)](_0x1c2093['readFileSync'](_0x34a312,_0x4ac6ac(0x1c3))),this[_0x4ac6ac(0x229)][_0x4e1b0a];}catch(_0x2e2d11){return console[_0x4ac6ac(0x25b)](_0x4ac6ac(0x26a)+_0x4e1b0a+_0x4ac6ac(0x1c6),_0x2e2d11),{};}}return{};},'savePositions':function(_0x2a45f5,_0x515e4b){const _0x533b07=_0x24943b;if(Utils[_0x533b07(0x2a9)]()){const _0x5ea2dd=this[_0x533b07(0x1d4)](_0x2a45f5),_0x1d7bce=require('fs');try{let _0x580e06={};if(_0x1d7bce[_0x533b07(0x207)](_0x5ea2dd))try{_0x580e06=JSON['parse'](_0x1d7bce['readFileSync'](_0x5ea2dd,_0x533b07(0x1c3)));}catch(_0x16e50a){console[_0x533b07(0x25b)](_0x533b07(0x258)+_0x2a45f5+'\x20positions:',_0x16e50a);}const _0x402b57={};for(const _0xf2cbbe in _0x580e06){_0x402b57[_0xf2cbbe]=_0x580e06[_0xf2cbbe];}for(const _0x830bb3 in _0x515e4b){if(isNaN(_0x515e4b[_0x830bb3]['x'])||isNaN(_0x515e4b[_0x830bb3]['y'])){console['warn'](_0x533b07(0x239)+_0x830bb3);continue;}_0x402b57[_0x830bb3]={'x':_0x515e4b[_0x830bb3]['x'],'y':_0x515e4b[_0x830bb3]['y']};}_0x1d7bce['writeFileSync'](_0x5ea2dd,JSON[_0x533b07(0x1d9)](_0x402b57,null,0x2));}catch(_0x3323f0){console[_0x533b07(0x25b)]('Error\x20saving\x20'+_0x2a45f5+_0x533b07(0x1c6),_0x3323f0);}}},'loadPositionsFromFile':function(){const _0x4785f6=_0x24943b;if(!Utils['isNwjs']()){const _0x1d81a9=['normal','move'];_0x1d81a9[_0x4785f6(0x227)](_0x10a2ba=>{const _0x235628=_0x4785f6,_0x345c2e=_0x235628(0x270)+_0x10a2ba,_0xaae9ea=_0x235628(0x21c)+(_0x10a2ba==='normal'?'picturesPosition.json':_0x235628(0x246));fetch(_0xaae9ea)[_0x235628(0x220)](_0x287566=>{const _0x314d7e=_0x235628;return _0x287566[_0x314d7e(0x1ee)]();})[_0x235628(0x220)](_0x1ed8de=>{const _0x49a59b=_0x235628;this[_0x49a59b(0x229)][_0x10a2ba]=_0x1ed8de,window[_0x49a59b(0x24c)]=_0x10a2ba===_0x49a59b(0x2a7)?_0x1ed8de:window[_0x49a59b(0x24c)],window[_0x49a59b(0x291)]=_0x10a2ba===_0x49a59b(0x24e)?_0x1ed8de:window[_0x49a59b(0x291)],localStorage['setItem'](_0x345c2e,JSON[_0x49a59b(0x1d9)](_0x1ed8de)),this['refreshPicturePositions'](_0x10a2ba);})['catch'](_0x34478a=>{const _0xd49bed=_0x235628;console[_0xd49bed(0x1e5)](_0xd49bed(0x203)+_0x10a2ba+_0xd49bed(0x1df));const _0x578f2d=localStorage[_0xd49bed(0x1c8)](_0x345c2e);if(_0x578f2d)try{const _0x199b91=JSON[_0xd49bed(0x2a8)](_0x578f2d);this['data'][_0x10a2ba]=_0x199b91,window['$picturePositions']=_0x10a2ba==='normal'?_0x199b91:window[_0xd49bed(0x24c)],window[_0xd49bed(0x291)]=_0x10a2ba==='move'?_0x199b91:window[_0xd49bed(0x291)],this[_0xd49bed(0x279)](_0x10a2ba);}catch(_0x53f5e6){console[_0xd49bed(0x25b)](_0xd49bed(0x259)+_0x10a2ba+_0xd49bed(0x212));}});});}},'deletePosition':function(_0xb0787b,_0x1ae5d4){const _0x1998b6=_0x24943b;if(Utils[_0x1998b6(0x2a9)]()){const _0x135260=this['getFilePath'](_0xb0787b),_0x5d1127=require('fs');try{let _0x9ff288={};if(_0x5d1127['existsSync'](_0x135260))try{_0x9ff288=JSON[_0x1998b6(0x2a8)](_0x5d1127[_0x1998b6(0x26b)](_0x135260,_0x1998b6(0x1c3)));}catch(_0x5b7ef9){console['error']('Error\x20reading\x20'+_0xb0787b+_0x1998b6(0x1c6),_0x5b7ef9);}_0x9ff288[_0x1ae5d4]&&(delete _0x9ff288[_0x1ae5d4],this[_0x1998b6(0x229)][_0xb0787b][_0x1ae5d4]&&delete this[_0x1998b6(0x229)][_0xb0787b][_0x1ae5d4],_0x5d1127[_0x1998b6(0x24d)](_0x135260,JSON[_0x1998b6(0x1d9)](_0x9ff288,null,0x2)));}catch(_0x5a52f9){console['error'](_0x1998b6(0x1c9)+_0xb0787b+_0x1998b6(0x1d2),_0x5a52f9);}}},'resetPositions':function(_0x1e8a38){const _0x5c1ced=_0x24943b;if(Utils[_0x5c1ced(0x2a9)]()){const _0x20691b=this[_0x5c1ced(0x1d4)](_0x1e8a38),_0x18079d=require('fs');try{this[_0x5c1ced(0x229)][_0x1e8a38]={},_0x18079d['writeFileSync'](_0x20691b,JSON[_0x5c1ced(0x1d9)]({},null,0x2));}catch(_0x34d285){console[_0x5c1ced(0x25b)](_0x5c1ced(0x265)+_0x1e8a38+_0x5c1ced(0x1c6),_0x34d285);}}},'initialize':function(){const _0x1425d1=_0x24943b;window[_0x1425d1(0x24c)]=this[_0x1425d1(0x293)]('normal'),window['$pictureMovePositions']=this['readPositions'](_0x1425d1(0x24e)),!Utils['isNwjs']()&&setTimeout(()=>this['loadPositionsFromFile'](),0x1f4);}};function _0x31265d(_0x286c8c,_0x5aa39f,_0x171889,_0x43365e){const _0x4a2aa3=_0x24943b,_0x23087e={};_0x23087e['x']=_0x171889,_0x23087e['y']=_0x43365e,_0x23087e[_0x4a2aa3(0x210)]=null,_0x23087e['snapY']=null;const _0x25ea94=_0x23087e;_0x487675[_0x4a2aa3(0x236)](_0x5aa39f+_0x4a2aa3(0x1e8)),_0x487675[_0x4a2aa3(0x236)](_0x5aa39f+'_horizontal');let _0x454a25;if(_0x5aa39f===_0x4a2aa3(0x1ca)){const _0x150e41=_0x286c8c['sprite'],_0x25cee6=_0x286c8c[_0x4a2aa3(0x266)],_0x1f466a=_0x150e41[_0x4a2aa3(0x276)]*Math[_0x4a2aa3(0x209)](_0x150e41[_0x4a2aa3(0x2a2)]['x']),_0x9d84f3=_0x150e41[_0x4a2aa3(0x1bf)]*Math[_0x4a2aa3(0x209)](_0x150e41[_0x4a2aa3(0x2a2)]['y']),_0xe7d0c8={};_0xe7d0c8[_0x4a2aa3(0x213)]=_0x171889-_0x1f466a*_0x25cee6[_0x4a2aa3(0x237)]/0x64,_0xe7d0c8[_0x4a2aa3(0x27a)]=_0x171889+_0x1f466a*(0x1-_0x25cee6['_origin']/0x64),_0xe7d0c8[_0x4a2aa3(0x28e)]=_0x43365e-_0x9d84f3*_0x25cee6[_0x4a2aa3(0x237)]/0x64,_0xe7d0c8['bottom']=_0x43365e+_0x9d84f3*(0x1-_0x25cee6[_0x4a2aa3(0x237)]/0x64),_0xe7d0c8['centerX']=_0x171889,_0xe7d0c8[_0x4a2aa3(0x288)]=_0x43365e,_0xe7d0c8['width']=_0x1f466a,_0xe7d0c8[_0x4a2aa3(0x1bf)]=_0x9d84f3,_0xe7d0c8['origin']=_0x25cee6[_0x4a2aa3(0x237)],_0x454a25=_0xe7d0c8;}else{const _0x181be9=_0x286c8c,_0x292c66={};_0x292c66[_0x4a2aa3(0x213)]=_0x171889,_0x292c66[_0x4a2aa3(0x27a)]=_0x171889+_0x181be9[_0x4a2aa3(0x276)],_0x292c66[_0x4a2aa3(0x28e)]=_0x43365e,_0x292c66['bottom']=_0x43365e+_0x181be9[_0x4a2aa3(0x1bf)],_0x292c66[_0x4a2aa3(0x1c1)]=_0x171889+_0x181be9[_0x4a2aa3(0x276)]/0x2,_0x292c66[_0x4a2aa3(0x288)]=_0x43365e+_0x181be9[_0x4a2aa3(0x1bf)]/0x2,_0x292c66[_0x4a2aa3(0x276)]=_0x181be9['width'],_0x292c66[_0x4a2aa3(0x1bf)]=_0x181be9[_0x4a2aa3(0x1bf)],_0x292c66[_0x4a2aa3(0x27b)]=0x0,_0x454a25=_0x292c66;}const _0x315675={};_0x315675['x']=[0x0,Graphics[_0x4a2aa3(0x26e)]/0x2,Graphics[_0x4a2aa3(0x26e)]],_0x315675['y']=[0x0,Graphics[_0x4a2aa3(0x23c)]/0x2,Graphics[_0x4a2aa3(0x23c)]];const _0x107927=_0x315675;if(_0x5aa39f===_0x4a2aa3(0x1ca)&&$gameScreen[_0x4a2aa3(0x251)])for(let _0x9182fe=0x1;_0x9182fe<$gameScreen[_0x4a2aa3(0x251)][_0x4a2aa3(0x1e9)];_0x9182fe++){if(_0x9182fe===_0x286c8c['id'])continue;const _0x21fdb5=$gameScreen[_0x4a2aa3(0x251)][_0x9182fe];if(!_0x21fdb5)continue;const _0x59751c=SceneManager[_0x4a2aa3(0x1cc)][_0x4a2aa3(0x2b2)][_0x4a2aa3(0x1b7)]['children']['find'](_0x2ef0b3=>_0x2ef0b3[_0x4a2aa3(0x28b)]===_0x9182fe);if(!_0x59751c)continue;const _0x550ff0={};_0x550ff0[_0x4a2aa3(0x213)]=_0x21fdb5['_x']-_0x59751c[_0x4a2aa3(0x276)]*_0x21fdb5[_0x4a2aa3(0x237)]/0x64,_0x550ff0['right']=_0x21fdb5['_x']+_0x59751c['width']*(0x1-_0x21fdb5[_0x4a2aa3(0x237)]/0x64),_0x550ff0['top']=_0x21fdb5['_y']-_0x59751c[_0x4a2aa3(0x1bf)]*_0x21fdb5[_0x4a2aa3(0x237)]/0x64,_0x550ff0['bottom']=_0x21fdb5['_y']+_0x59751c['height']*(0x1-_0x21fdb5['_origin']/0x64),_0x550ff0['centerX']=_0x21fdb5['_x'],_0x550ff0['centerY']=_0x21fdb5['_y'];const _0x43e8dc=_0x550ff0;_0x107927['x'][_0x4a2aa3(0x27e)](_0x43e8dc[_0x4a2aa3(0x213)],_0x43e8dc['right'],_0x43e8dc[_0x4a2aa3(0x1c1)]),_0x107927['y'][_0x4a2aa3(0x27e)](_0x43e8dc[_0x4a2aa3(0x28e)],_0x43e8dc['bottom'],_0x43e8dc[_0x4a2aa3(0x288)]);}else{if(_0x5aa39f===_0x4a2aa3(0x264))for(let _0x5c2cee in _0x14e8ee){if(_0x5c2cee===_0x286c8c[_0x4a2aa3(0x2ad)])continue;const _0x39ec8e=_0x14e8ee[_0x5c2cee];if(!_0x39ec8e)continue;const _0x134d3a={};_0x134d3a[_0x4a2aa3(0x213)]=_0x39ec8e['x'],_0x134d3a[_0x4a2aa3(0x27a)]=_0x39ec8e['x']+_0x39ec8e[_0x4a2aa3(0x276)],_0x134d3a[_0x4a2aa3(0x28e)]=_0x39ec8e['y'],_0x134d3a[_0x4a2aa3(0x267)]=_0x39ec8e['y']+_0x39ec8e[_0x4a2aa3(0x1bf)],_0x134d3a['centerX']=_0x39ec8e['x']+_0x39ec8e['width']/0x2,_0x134d3a[_0x4a2aa3(0x288)]=_0x39ec8e['y']+_0x39ec8e['height']/0x2;const _0x5e8097=_0x134d3a;_0x107927['x']['push'](_0x5e8097[_0x4a2aa3(0x213)],_0x5e8097[_0x4a2aa3(0x27a)],_0x5e8097[_0x4a2aa3(0x1c1)]),_0x107927['y'][_0x4a2aa3(0x27e)](_0x5e8097[_0x4a2aa3(0x28e)],_0x5e8097[_0x4a2aa3(0x267)],_0x5e8097[_0x4a2aa3(0x288)]);}}const _0x82af18=_0x5aa39f===_0x4a2aa3(0x1ca)?0x3:0x2;for(const _0x1713f9 of _0x107927['x']){if(Math['abs'](_0x454a25[_0x4a2aa3(0x213)]-_0x1713f9)<_0x82af18){_0x25ea94[_0x4a2aa3(0x210)]=_0x1713f9+_0x454a25[_0x4a2aa3(0x276)]*_0x454a25[_0x4a2aa3(0x27b)]/0x64,_0x487675[_0x4a2aa3(0x1cb)](_0x5aa39f+_0x4a2aa3(0x1e8),_0x1713f9);break;}if(Math[_0x4a2aa3(0x209)](_0x454a25[_0x4a2aa3(0x27a)]-_0x1713f9)<_0x82af18){_0x25ea94[_0x4a2aa3(0x210)]=_0x1713f9-_0x454a25[_0x4a2aa3(0x276)]*(0x1-_0x454a25[_0x4a2aa3(0x27b)]/0x64),_0x487675['show'](_0x5aa39f+_0x4a2aa3(0x1e8),_0x1713f9);break;}if(Math[_0x4a2aa3(0x209)](_0x454a25[_0x4a2aa3(0x1c1)]-_0x1713f9)<_0x82af18){_0x25ea94[_0x4a2aa3(0x210)]=_0x5aa39f===_0x4a2aa3(0x1ca)?_0x1713f9:_0x1713f9-_0x454a25['width']/0x2,_0x487675[_0x4a2aa3(0x1cb)](_0x5aa39f+_0x4a2aa3(0x1e8),_0x1713f9);break;}}for(const _0x543c1a of _0x107927['y']){if(Math[_0x4a2aa3(0x209)](_0x454a25[_0x4a2aa3(0x28e)]-_0x543c1a)<_0x82af18){_0x25ea94[_0x4a2aa3(0x23f)]=_0x543c1a+_0x454a25[_0x4a2aa3(0x1bf)]*_0x454a25[_0x4a2aa3(0x27b)]/0x64,_0x487675[_0x4a2aa3(0x1cb)](_0x5aa39f+_0x4a2aa3(0x22d),_0x543c1a);break;}if(Math[_0x4a2aa3(0x209)](_0x454a25[_0x4a2aa3(0x267)]-_0x543c1a)<_0x82af18){_0x25ea94[_0x4a2aa3(0x23f)]=_0x543c1a-_0x454a25[_0x4a2aa3(0x1bf)]*(0x1-_0x454a25[_0x4a2aa3(0x27b)]/0x64),_0x487675[_0x4a2aa3(0x1cb)](_0x5aa39f+_0x4a2aa3(0x22d),_0x543c1a);break;}if(Math['abs'](_0x454a25[_0x4a2aa3(0x288)]-_0x543c1a)<_0x82af18){_0x25ea94['snapY']=_0x5aa39f==='picture'?_0x543c1a:_0x543c1a-_0x454a25[_0x4a2aa3(0x1bf)]/0x2,_0x487675['show'](_0x5aa39f+_0x4a2aa3(0x22d),_0x543c1a);break;}}return _0x25ea94['x']=_0x25ea94[_0x4a2aa3(0x210)]!==null?_0x25ea94['snapX']:_0x171889,_0x25ea94['y']=_0x25ea94[_0x4a2aa3(0x23f)]!==null?_0x25ea94['snapY']:_0x43365e,_0x25ea94;}const _0x487675={'indicators':{},'create':function(_0xd44d6f,_0x1b5cca){const _0x4783b3=_0x24943b,_0xb66f42=new Sprite(),_0x4ad58b=_0x1b5cca?0x1:Graphics[_0x4783b3(0x26e)],_0x35b7b7=_0x1b5cca?Graphics[_0x4783b3(0x23c)]:0x1;return _0xb66f42[_0x4783b3(0x27d)]=new Bitmap(_0x4ad58b,_0x35b7b7),_0xb66f42[_0x4783b3(0x27d)][_0x4783b3(0x269)](0x0,0x0,_0x4ad58b,_0x35b7b7,_0x4783b3(0x21e)),_0xb66f42[_0x4783b3(0x1be)]=0x80,_0xb66f42['visible']=![],this[_0x4783b3(0x28c)][_0xd44d6f]=_0xb66f42,_0xb66f42;},'show':function(_0x1da397,_0x58bdaf){const _0x2e0d84=_0x24943b,_0x343ca1=this['indicators'][_0x1da397];if(!_0x343ca1)return;_0x1da397[_0x2e0d84(0x1ef)](_0x2e0d84(0x1f9))?_0x343ca1['x']=_0x58bdaf:_0x343ca1['y']=_0x58bdaf,_0x343ca1['visible']=!![];},'hide':function(_0x8c6294){const _0x2bba24=_0x24943b,_0x5bf8c5=this[_0x2bba24(0x28c)][_0x8c6294];if(!_0x5bf8c5)return;_0x5bf8c5['visible']=![];},'hideAll':function(){const _0x44f520=_0x24943b;for(const _0x5ce4dd in this[_0x44f520(0x28c)]){this[_0x44f520(0x28c)][_0x5ce4dd]['visible']=![];}},'initialize':function(_0x44bc53){const _0x57f499=_0x24943b;this[_0x57f499(0x28c)][_0x57f499(0x26c)]=this['create'](_0x57f499(0x26c),!![]),this[_0x57f499(0x28c)][_0x57f499(0x234)]=this[_0x57f499(0x1ba)]('picture_horizontal',![]),this['indicators'][_0x57f499(0x1b9)]=this[_0x57f499(0x1ba)](_0x57f499(0x1b9),!![]),this[_0x57f499(0x28c)][_0x57f499(0x1c5)]=this[_0x57f499(0x1ba)](_0x57f499(0x1c5),![]);for(const _0x4c7d71 in this[_0x57f499(0x28c)]){_0x44bc53[_0x57f499(0x1ce)](this[_0x57f499(0x28c)][_0x4c7d71]);}}},_0x585123={'isDraggingElement':![],'elementType':null,'startDrag':function(_0xdea595){const _0x5e4dc7=_0x24943b;this[_0x5e4dc7(0x281)]=!![],this[_0x5e4dc7(0x274)]=_0xdea595;},'endDrag':function(){const _0x491e22=_0x24943b;this[_0x491e22(0x281)]=![],this['elementType']=null;},'canStartDrag':function(_0x32cf42){const _0xf0d706=_0x24943b;return!this['isDraggingElement']||this[_0xf0d706(0x274)]===_0x32cf42;},'determineTopElement':function(){const _0x3fc2d9=_0x24943b;if(!_0x93be59)return null;const _0x583c3b=TouchInput['x'],_0x3356a6=TouchInput['y'];let _0x2e482d=null,_0x13868c=null;const _0x3261fc=Object[_0x3fc2d9(0x1c7)](_0x14e8ee);for(let _0x162cfb=_0x3261fc[_0x3fc2d9(0x1e9)]-0x1;_0x162cfb>=0x0;_0x162cfb--){const [_0x5bce47,_0x371635]=_0x3261fc[_0x162cfb];if(!_0x371635)continue;if(_0x583c3b>=_0x371635['x']&&_0x583c3b<=_0x371635['x']+_0x371635[_0x3fc2d9(0x276)]&&_0x3356a6>=_0x371635['y']&&_0x3356a6<=_0x371635['y']+_0x371635[_0x3fc2d9(0x1bf)]){_0x2e482d=_0x5bce47,_0x13868c=_0x371635;const _0x581655={};return _0x581655[_0x3fc2d9(0x25c)]=_0x3fc2d9(0x264),_0x581655['id']=_0x2e482d,_0x581655['element']=_0x13868c,_0x581655;}}if($gameScreen&&$gameScreen[_0x3fc2d9(0x251)])for(let _0x38beb6=$gameScreen[_0x3fc2d9(0x251)][_0x3fc2d9(0x1e9)]-0x1;_0x38beb6>=0x1;_0x38beb6--){const _0x1cacb2=$gameScreen[_0x3fc2d9(0x251)][_0x38beb6];if(!_0x1cacb2)continue;const _0x3e83db=SceneManager[_0x3fc2d9(0x1cc)][_0x3fc2d9(0x2b2)][_0x3fc2d9(0x1b7)][_0x3fc2d9(0x1f3)][_0x3fc2d9(0x1db)](_0xbe2dda=>_0xbe2dda[_0x3fc2d9(0x28b)]===_0x38beb6);if(!_0x3e83db)continue;const _0x186c26=_0x4856a3(_0x1cacb2,_0x3e83db);if(_0x583c3b>=_0x186c26['x']&&_0x583c3b<=_0x186c26['x']+_0x186c26['width']&&_0x3356a6>=_0x186c26['y']&&_0x3356a6<=_0x186c26['y']+_0x186c26[_0x3fc2d9(0x1bf)]){const _0x408c6d={};return _0x408c6d[_0x3fc2d9(0x25c)]=_0x3fc2d9(0x1ca),_0x408c6d['id']=_0x38beb6,_0x408c6d[_0x3fc2d9(0x266)]=_0x1cacb2,_0x408c6d[_0x3fc2d9(0x23e)]=_0x3e83db,_0x408c6d;}}return null;}};function _0x201008(){const _0x36e692=_0x24943b;if(_0x8b3f55)return _0x8b3f55;const _0x9f79d6=new Sprite();return _0x9f79d6[_0x36e692(0x27d)]=new Bitmap(0xa,0xa),_0x9f79d6['bitmap'][_0x36e692(0x2a0)](_0x36e692(0x299)),_0x9f79d6['opacity']=0xc8,_0x9f79d6['visible']=![],SceneManager[_0x36e692(0x1cc)]&&SceneManager[_0x36e692(0x1cc)][_0x36e692(0x1ce)](_0x9f79d6),_0x9f79d6;}function _0x3f863d(_0x4df4c9,_0x1b2d2d){const _0x355c16=_0x24943b;!_0x8b3f55&&(_0x8b3f55=_0x201008()),_0x8b3f55['x']=_0x4df4c9-0x5,_0x8b3f55['y']=_0x1b2d2d-0x5,_0x8b3f55[_0x355c16(0x286)]=!![];}function _0x110766(){_0x8b3f55&&(_0x8b3f55['visible']=![]);}_0x4a2232[_0x24943b(0x1dc)]();function _0x3250d8(_0x1a2c05){const _0x478074=_0x24943b;if(!_0x1a2c05)return'';const _0x3e12ed=_0x1a2c05[_0x478074(0x296)]('/')[_0x478074(0x1ec)]()[_0x478074(0x296)]('\x5c')[_0x478074(0x1ec)]()[_0x478074(0x296)]('.');if(_0x3e12ed[_0x478074(0x1e9)]===0x1)return _0x3e12ed[0x0];return _0x3e12ed['pop'](),_0x3e12ed[_0x478074(0x1e1)]('.');}function _0x3b2564(_0x2f7fc4,_0x32f2a9,_0x4a7f46){const _0x5725d4=_0x24943b;return _0x2f7fc4>=_0x4a7f46['x']&&_0x2f7fc4<=_0x4a7f46['x']+_0x4a7f46[_0x5725d4(0x276)]&&_0x32f2a9>=_0x4a7f46['y']&&_0x32f2a9<=_0x4a7f46['y']+_0x4a7f46['height'];}function _0x236435(_0x108df8,_0x4b4d35){const _0x4aea03=_0x24943b;if(!_0x108df8||!_0x108df8[_0x4aea03(0x27d)]||!_0x108df8[_0x4aea03(0x27d)]['isReady']())return;_0x3312c8(_0x108df8[_0x4aea03(0x28b)]);const _0x569e3a=new Sprite();_0x569e3a[_0x4aea03(0x27d)]=_0x108df8['bitmap'];const _0x36e91=_0x108df8[_0x4aea03(0x28b)]+'_'+_0x4b4d35['_filename'];let _0xab3247,_0x538eb8;window['$picturePositions'][_0x36e91]?(_0xab3247=window[_0x4aea03(0x24c)][_0x36e91]['x'],_0x538eb8=window[_0x4aea03(0x24c)][_0x36e91]['y']):(_0xab3247=_0x4b4d35[_0x4aea03(0x2a3)],_0x538eb8=_0x4b4d35['_originalY']);if(_0x4b4d35['_origin']===0x0)_0x569e3a[_0x4aea03(0x1d0)]['x']=0x0,_0x569e3a[_0x4aea03(0x1d0)]['y']=0x0,_0x569e3a['x']=_0xab3247,_0x569e3a['y']=_0x538eb8;else _0x4b4d35[_0x4aea03(0x237)]===0x1&&(_0x569e3a[_0x4aea03(0x1d0)]['x']=0.5,_0x569e3a[_0x4aea03(0x1d0)]['y']=0.5,_0x569e3a['x']=_0xab3247,_0x569e3a['y']=_0x538eb8);return _0x569e3a[_0x4aea03(0x1be)]=0x50,_0x569e3a[_0x4aea03(0x2a2)]['x']=_0x108df8[_0x4aea03(0x2a2)]['x'],_0x569e3a[_0x4aea03(0x2a2)]['y']=_0x108df8[_0x4aea03(0x2a2)]['y'],_0x569e3a[_0x4aea03(0x28b)]=_0x108df8['_pictureId'],_0x225bdf[_0x4aea03(0x27e)](_0x569e3a),SceneManager[_0x4aea03(0x1cc)][_0x4aea03(0x1ce)](_0x569e3a),_0x569e3a;}function _0x3312c8(_0x179655){const _0x2d7973=_0x24943b;for(let _0x4cf60d=_0x225bdf[_0x2d7973(0x1e9)]-0x1;_0x4cf60d>=0x0;_0x4cf60d--){_0x225bdf[_0x4cf60d][_0x2d7973(0x28b)]===_0x179655&&(SceneManager[_0x2d7973(0x1cc)][_0x2d7973(0x287)](_0x225bdf[_0x4cf60d]),_0x225bdf[_0x2d7973(0x244)](_0x4cf60d,0x1));}}const _0x4856a3=function(_0x6ca09a,_0x2cd511){const _0x5094b7=_0x24943b,_0x299f9a={};_0x299f9a['x']=0x0,_0x299f9a['y']=0x0,_0x299f9a[_0x5094b7(0x276)]=0x0,_0x299f9a[_0x5094b7(0x1bf)]=0x0;if(!_0x2cd511||!_0x2cd511['bitmap'])return _0x299f9a;const _0x86f869=_0x2cd511[_0x5094b7(0x276)]*Math['abs'](_0x2cd511[_0x5094b7(0x2a2)]['x']),_0xa7faaf=_0x2cd511[_0x5094b7(0x1bf)]*Math[_0x5094b7(0x209)](_0x2cd511[_0x5094b7(0x2a2)]['y']),_0x262fb6=_0x6ca09a[_0x5094b7(0x237)]===0x1;let _0x2936a2,_0x2f918f;_0x262fb6?(_0x2936a2=_0x6ca09a['_x']-_0x86f869/0x2,_0x2f918f=_0x6ca09a['_y']-_0xa7faaf/0x2):(_0x2936a2=_0x6ca09a['_x'],_0x2f918f=_0x6ca09a['_y']);const _0x497595={};return _0x497595['x']=_0x2936a2,_0x497595['y']=_0x2f918f,_0x497595[_0x5094b7(0x276)]=_0x86f869,_0x497595[_0x5094b7(0x1bf)]=_0xa7faaf,_0x497595;},_0x97e54e=Game_Screen[_0x24943b(0x1e0)][_0x24943b(0x278)];Game_Screen[_0x24943b(0x1e0)][_0x24943b(0x278)]=function(_0x1b128d,_0x13136e,_0x47287c,_0x2c4ef6,_0x5d2b47,_0x3c7619,_0x3580fa,_0x5aeeaf,_0x512d9a){const _0x1d0879=_0x24943b,_0xbb19da=this[_0x1d0879(0x1ca)](_0x1b128d);if(_0x2c4ef6===0x0&&_0x5d2b47===0x0&&_0xbb19da&&_0xbb19da['_x']&&_0xbb19da['_y']){const _0x4b9c7b=_0xbb19da['_x'],_0x483d59=_0xbb19da['_y'];_0x97e54e[_0x1d0879(0x271)](this,_0x1b128d,_0x13136e,_0x47287c,_0x4b9c7b,_0x483d59,_0x3c7619,_0x3580fa,_0x5aeeaf,_0x512d9a);const _0x44ceb7=this[_0x1d0879(0x1ca)](_0x1b128d);_0x44ceb7&&(_0x44ceb7[_0x1d0879(0x2a3)]=0x0,_0x44ceb7[_0x1d0879(0x28a)]=0x0,_0x44ceb7['_filename']=_0x13136e);}else{const _0xd73582=_0x2c4ef6,_0x5058f7=_0x5d2b47,_0x1364e9=_0x1b128d+'_'+_0x13136e;if(window[_0x1d0879(0x24c)][_0x1364e9]){const _0x342a0e=window[_0x1d0879(0x24c)][_0x1364e9];_0x342a0e['x']!==undefined&&(_0x2c4ef6=_0x342a0e['x']),_0x342a0e['y']!==undefined&&(_0x5d2b47=_0x342a0e['y']);}_0x97e54e[_0x1d0879(0x271)](this,_0x1b128d,_0x13136e,_0x47287c,_0x2c4ef6,_0x5d2b47,_0x3c7619,_0x3580fa,_0x5aeeaf,_0x512d9a);const _0x1a413d=this[_0x1d0879(0x1ca)](_0x1b128d);_0x1a413d&&(_0x1a413d['_originalX']=_0xd73582,_0x1a413d[_0x1d0879(0x28a)]=_0x5058f7,_0x1a413d[_0x1d0879(0x29c)]=_0x13136e);}_0x93be59&&setTimeout(_0x358c83,0x32);};const _0x2086b2=Game_Screen[_0x24943b(0x1e0)]['erasePicture'];Game_Screen[_0x24943b(0x1e0)][_0x24943b(0x202)]=function(_0x5caffc){const _0x5da9f3=_0x24943b;_0x2086b2[_0x5da9f3(0x271)](this,_0x5caffc),_0x5804c8[_0x5caffc]&&SceneManager[_0x5da9f3(0x1cc)]&&(SceneManager[_0x5da9f3(0x1cc)]['removeChild'](_0x5804c8[_0x5caffc]),_0x5804c8[_0x5caffc]=null);},Bitmap[_0x24943b(0x1e0)]['drawLine']=function(_0x5487b0,_0xd4bcac,_0x421735,_0x4ac389,_0x39cf3b,_0x34ae91=0x1){const _0x50387f=_0x24943b,_0x3443c1=this[_0x50387f(0x228)];_0x3443c1[_0x50387f(0x1d8)](),_0x3443c1[_0x50387f(0x201)]=_0x39cf3b,_0x3443c1[_0x50387f(0x20e)]=_0x34ae91,_0x3443c1[_0x50387f(0x20d)](),_0x3443c1[_0x50387f(0x1da)](_0x5487b0,_0xd4bcac),_0x3443c1[_0x50387f(0x29d)](_0x421735,_0x4ac389),_0x3443c1[_0x50387f(0x235)](),_0x3443c1[_0x50387f(0x20f)](),this[_0x50387f(0x1fc)][_0x50387f(0x283)]();};const _0x146f28={};_0x146f28[_0x24943b(0x23e)]=null,_0x146f28[_0x24943b(0x1eb)]=0x0,_0x146f28[_0x24943b(0x248)]=0x0,_0x146f28[_0x24943b(0x257)]=0x0,_0x146f28[_0x24943b(0x206)]=0x0,_0x146f28[_0x24943b(0x286)]=![];const _0x3fe1af=_0x146f28;function _0x2e32ba(){const _0x21c71b=_0x24943b,_0x16db89=new Sprite();return _0x16db89[_0x21c71b(0x27d)]=new Bitmap(Graphics[_0x21c71b(0x26e)],Graphics[_0x21c71b(0x23c)]),_0x16db89[_0x21c71b(0x286)]=![],_0x16db89;}function _0x57898d(_0x1316e8,_0x44db51,_0x57936f,_0x23d2c5){const _0x4dc321=_0x24943b;_0x3fe1af[_0x4dc321(0x23e)][_0x4dc321(0x27d)]['clear']();const _0x3786d8=_0x4dc321(0x1c0),_0x130cad=0x3,_0x189dd2=0xf,_0x39b319=0x8,_0x32bbf2=Math[_0x4dc321(0x23d)](_0x23d2c5-_0x44db51,_0x57936f-_0x1316e8);_0x3fe1af[_0x4dc321(0x23e)]['bitmap'][_0x4dc321(0x1ea)](_0x1316e8,_0x44db51,_0x57936f,_0x23d2c5,_0x3786d8,_0x130cad);const _0x4a6e06=_0x32bbf2+Math['PI']-Math['PI']/0x4,_0x3567f1=_0x32bbf2+Math['PI']+Math['PI']/0x4,_0x2d6725=_0x57936f+_0x189dd2*Math[_0x4dc321(0x1c4)](_0x4a6e06),_0x5b5833=_0x23d2c5+_0x189dd2*Math[_0x4dc321(0x1f0)](_0x4a6e06),_0xcd91f4=_0x57936f+_0x189dd2*Math[_0x4dc321(0x1c4)](_0x3567f1),_0x16c649=_0x23d2c5+_0x189dd2*Math[_0x4dc321(0x1f0)](_0x3567f1);_0x3fe1af[_0x4dc321(0x23e)]['bitmap']['drawLine'](_0x57936f,_0x23d2c5,_0x2d6725,_0x5b5833,_0x3786d8,_0x130cad),_0x3fe1af[_0x4dc321(0x23e)]['bitmap'][_0x4dc321(0x1ea)](_0x57936f,_0x23d2c5,_0xcd91f4,_0x16c649,_0x3786d8,_0x130cad);}function _0x358c83(){const _0x3b90cb=_0x24943b;for(const _0xab58b2 in _0x5804c8){_0x5804c8[_0xab58b2]&&SceneManager[_0x3b90cb(0x1cc)]&&(SceneManager['_scene'][_0x3b90cb(0x287)](_0x5804c8[_0xab58b2]),_0x5804c8[_0xab58b2]=null);}if(!_0x93be59)return;if($gameScreen&&$gameScreen[_0x3b90cb(0x251)])for(let _0x3db6b0=0x1;_0x3db6b0<$gameScreen['_pictures'][_0x3b90cb(0x1e9)];_0x3db6b0++){const _0x157b41=$gameScreen[_0x3b90cb(0x251)][_0x3db6b0];if(!_0x157b41)continue;const _0x2a0c9b=SceneManager[_0x3b90cb(0x1cc)]['_spriteset'][_0x3b90cb(0x1b7)][_0x3b90cb(0x1f3)][_0x3b90cb(0x1db)](_0x4d56b0=>_0x4d56b0[_0x3b90cb(0x28b)]===_0x3db6b0);if(!_0x2a0c9b)continue;const _0x685e76=_0x157b41['_filename']?_0x3250d8(_0x157b41['_filename']):_0x3b90cb(0x21f),_0x5cec3f=new Sprite();_0x5cec3f['bitmap']=new Bitmap(0xc8,0x14),_0x5cec3f[_0x3b90cb(0x27d)][_0x3b90cb(0x285)]=0xe,_0x5cec3f['bitmap'][_0x3b90cb(0x1bc)]='#FFFFFF',_0x5cec3f[_0x3b90cb(0x27d)][_0x3b90cb(0x219)]=0x3,_0x5cec3f[_0x3b90cb(0x27d)]['outlineColor']=_0x3b90cb(0x1cd),_0x5cec3f[_0x3b90cb(0x27d)][_0x3b90cb(0x223)]('#'+_0x3db6b0+'\x20'+_0x685e76,0x0,0x0,0xc8,0x14,'center');const _0x1dd218=_0x4856a3(_0x157b41,_0x2a0c9b);_0x5cec3f['x']=_0x1dd218['x']+_0x1dd218['width']/0x2-_0x5cec3f['bitmap'][_0x3b90cb(0x276)]/0x2,_0x5cec3f['y']=_0x1dd218['y'],SceneManager[_0x3b90cb(0x1cc)]&&(SceneManager[_0x3b90cb(0x1cc)][_0x3b90cb(0x1ce)](_0x5cec3f),_0x5804c8[_0x3db6b0]=_0x5cec3f);}}Scene_Map[_0x24943b(0x1e0)][_0x24943b(0x1e3)]=function(){const _0x12190a=_0x24943b;this[_0x12190a(0x23a)]=new Sprite(),this[_0x12190a(0x23a)][_0x12190a(0x27d)]=new Bitmap(0x64,0x28),this[_0x12190a(0x23a)]['x']=(Graphics[_0x12190a(0x26e)]-0x64)/0x2,this[_0x12190a(0x23a)]['y']=0x14,this[_0x12190a(0x23a)]['bitmap']['fillRect'](0x0,0x0,0x64,0x28,_0x12190a(0x211)),this[_0x12190a(0x23a)][_0x12190a(0x27d)][_0x12190a(0x223)](_0x12190a(0x25a),0x0,0x0,0x64,0x28,_0x12190a(0x1cf)),this[_0x12190a(0x23a)][_0x12190a(0x286)]=![],this[_0x12190a(0x1ce)](this[_0x12190a(0x23a)]);},Scene_Map[_0x24943b(0x1e0)][_0x24943b(0x280)]=function(){const _0x4066e1=_0x24943b;if(!Utils[_0x4066e1(0x1f7)]('test'))return;this[_0x4066e1(0x29e)]=!this[_0x4066e1(0x29e)],this['_resetButton'][_0x4066e1(0x286)]=this['_isPictureDragMode'],_0x93be59=this['_isPictureDragMode'];if(!this['_isPictureDragMode']){_0x487675[_0x4066e1(0x26f)](),_0x3fe1af['sprite'][_0x4066e1(0x286)]=![],_0x358c83();if($gameScreen[_0x4066e1(0x251)])for(let _0x263997=0x1;_0x263997<$gameScreen[_0x4066e1(0x251)][_0x4066e1(0x1e9)];_0x263997++){const _0x213555=SceneManager[_0x4066e1(0x1cc)][_0x4066e1(0x2b2)]['_pictureContainer'][_0x4066e1(0x1f3)]['find'](_0x5e589d=>_0x5e589d[_0x4066e1(0x28b)]===_0x263997);if(_0x213555)_0x213555[_0x4066e1(0x1f6)]([0x0,0x0,0x0,0x0]);}}else _0x358c83();},Scene_Map[_0x24943b(0x1e0)][_0x24943b(0x295)]=function(){const _0x4c5afd=_0x24943b;if(!$gameScreen[_0x4c5afd(0x251)])return;for(let _0x21c6f0=0x1;_0x21c6f0<$gameScreen[_0x4c5afd(0x251)][_0x4c5afd(0x1e9)];_0x21c6f0++){const _0x3516b1=$gameScreen[_0x4c5afd(0x251)][_0x21c6f0];if(!_0x3516b1||_0x3516b1[_0x4c5afd(0x2a3)]===undefined||_0x3516b1[_0x4c5afd(0x28a)]===undefined)continue;_0x3516b1['_x']=_0x3516b1[_0x4c5afd(0x2a3)],_0x3516b1['_y']=_0x3516b1[_0x4c5afd(0x28a)];const _0x28a325=SceneManager[_0x4c5afd(0x1cc)]['_spriteset']['_pictureContainer']['children'][_0x4c5afd(0x1db)](_0x580b33=>_0x580b33[_0x4c5afd(0x28b)]===_0x21c6f0);_0x28a325&&(_0x28a325['x']=_0x3516b1[_0x4c5afd(0x2a3)],_0x28a325['y']=_0x3516b1[_0x4c5afd(0x28a)],_0x28a325[_0x4c5afd(0x1f6)]([0xff,0x40,0x40,0x64]),setTimeout(()=>{const _0x5b7c2e=_0x4c5afd;_0x28a325[_0x5b7c2e(0x1f6)]([0x0,0x0,0x0,0x0]);},0x12c)),_0x3312c8(_0x21c6f0);}_0x4a2232[_0x4c5afd(0x261)](_0x4c5afd(0x2a7)),_0x4a2232[_0x4c5afd(0x261)]('move');},Scene_Map[_0x24943b(0x1e0)][_0x24943b(0x232)]=function(){const _0x474064=_0x24943b;if(!this['_isPictureDragMode']||!$gameScreen[_0x474064(0x251)])return;const _0x3892a1=_0x585123['isDraggingElement'];if(TouchInput[_0x474064(0x216)]()){const _0xa67038=TouchInput['x'],_0xa6567a=TouchInput['y'];if(_0xa67038>=this['_resetButton']['x']&&_0xa67038<=this[_0x474064(0x23a)]['x']+0x64&&_0xa6567a>=this[_0x474064(0x23a)]['y']&&_0xa6567a<=this[_0x474064(0x23a)]['y']+0x28){this[_0x474064(0x295)]();return;}}for(let _0x59b39f=0x1;_0x59b39f<$gameScreen[_0x474064(0x251)][_0x474064(0x1e9)];_0x59b39f++){const _0x158c0b=SceneManager[_0x474064(0x1cc)][_0x474064(0x2b2)]['_pictureContainer'][_0x474064(0x1f3)][_0x474064(0x1db)](_0x4eb351=>_0x4eb351[_0x474064(0x28b)]===_0x59b39f);if(_0x158c0b)_0x158c0b[_0x474064(0x1f6)]([0x0,0x0,0x0,0x0]);}if(_0x585123[_0x474064(0x281)]&&_0x585123[_0x474064(0x274)]===_0x474064(0x264))return;let _0x43ec50=-0x1,_0x54859f=null,_0x381201=null;if(_0x585123[_0x474064(0x200)](_0x474064(0x1ca))){const _0x10152f=_0x585123[_0x474064(0x255)]();_0x10152f&&_0x10152f[_0x474064(0x25c)]===_0x474064(0x1ca)&&(_0x43ec50=_0x10152f['id'],_0x54859f=_0x10152f[_0x474064(0x266)],_0x381201=_0x10152f[_0x474064(0x23e)]);}_0x381201&&(_0x381201[_0x474064(0x1f6)]([0xff,0xff,0x40,0x64]),TouchInput[_0x474064(0x216)]()&&!_0x54859f[_0x474064(0x25e)]&&(!Input['isPressed'](_0x474064(0x25d))&&_0x3312c8(_0x43ec50),_0x54859f[_0x474064(0x25e)]=!![],_0x54859f[_0x474064(0x2ac)]=_0x54859f['_x']-TouchInput['x'],_0x54859f[_0x474064(0x298)]=_0x54859f['_y']-TouchInput['y'],_0x585123[_0x474064(0x282)](_0x474064(0x1ca)),Input[_0x474064(0x221)](_0x474064(0x25d))&&(_0x3fe1af[_0x474064(0x1eb)]=_0x54859f['_x'],_0x3fe1af['startY']=_0x54859f['_y'],_0x3fe1af[_0x474064(0x286)]=!![],_0x3fe1af[_0x474064(0x23e)][_0x474064(0x286)]=!![],_0x236435(_0x381201,_0x54859f))));for(let _0x44bf74=0x1;_0x44bf74<$gameScreen['_pictures'][_0x474064(0x1e9)];_0x44bf74++){const _0x56a96d=$gameScreen[_0x474064(0x251)][_0x44bf74];if(!_0x56a96d||!_0x56a96d[_0x474064(0x25e)])continue;if(TouchInput['isPressed']()){let _0x4f20fb=TouchInput['x']+_0x56a96d[_0x474064(0x2ac)],_0x19b209=TouchInput['y']+_0x56a96d[_0x474064(0x298)];const _0x5534ba=SceneManager[_0x474064(0x1cc)]['_spriteset']['_pictureContainer'][_0x474064(0x1f3)]['find'](_0x1de009=>_0x1de009[_0x474064(0x28b)]===_0x44bf74);if(!_0x5534ba)continue;const _0x5ade34={};_0x5ade34['id']=_0x44bf74,_0x5ade34['element']=_0x56a96d,_0x5ade34[_0x474064(0x23e)]=_0x5534ba;const _0x5346b5=_0x5ade34,_0x3c9f20=_0x31265d(_0x5346b5,_0x474064(0x1ca),_0x4f20fb,_0x19b209);_0x56a96d['_x']=_0x3c9f20['x'],_0x56a96d['_y']=_0x3c9f20['y'],Input['isPressed']('shift')&&_0x3fe1af[_0x474064(0x286)]&&(_0x3fe1af['endX']=_0x56a96d['_x'],_0x3fe1af[_0x474064(0x206)]=_0x56a96d['_y'],_0x57898d(_0x3fe1af[_0x474064(0x1eb)],_0x3fe1af[_0x474064(0x248)],_0x3fe1af[_0x474064(0x257)],_0x3fe1af[_0x474064(0x206)]));}else{_0x56a96d[_0x474064(0x25e)]=![];const _0x367319=_0x44bf74+'_'+_0x56a96d['_filename'];_0x585123[_0x474064(0x1f1)](),_0x3fe1af['sprite'][_0x474064(0x286)]=![],_0x3fe1af[_0x474064(0x286)]=![];if(Input[_0x474064(0x221)](_0x474064(0x25d))){const _0x2a445b={};_0x2a445b['x']=_0x56a96d['_x'],_0x2a445b['y']=_0x56a96d['_y'],window[_0x474064(0x291)][_0x367319]=_0x2a445b,_0x4a2232[_0x474064(0x215)](_0x474064(0x24e),window[_0x474064(0x291)]),SceneManager[_0x474064(0x1cc)][_0x474064(0x2b2)]['_pictureContainer'][_0x474064(0x1f3)]['find'](_0x1ca17f=>_0x1ca17f[_0x474064(0x28b)]===_0x44bf74)?.[_0x474064(0x1f6)]([0x40,0xff,0x40,0x64]),setTimeout(()=>{const _0x58e3a6=_0x474064;SceneManager[_0x58e3a6(0x1cc)][_0x58e3a6(0x2b2)][_0x58e3a6(0x1b7)]['children'][_0x58e3a6(0x1db)](_0x472e7d=>_0x472e7d[_0x58e3a6(0x28b)]===_0x44bf74)?.[_0x58e3a6(0x1f6)]([0x0,0x0,0x0,0x0]);},0x1f4);}else{window['$pictureMovePositions'][_0x367319]&&(delete window['$pictureMovePositions'][_0x367319],_0x4a2232['deletePosition'](_0x474064(0x24e),_0x367319));const _0xd2725d={};_0xd2725d['x']=_0x56a96d['_x'],_0xd2725d['y']=_0x56a96d['_y'],window['$picturePositions'][_0x367319]=_0xd2725d,_0x4a2232['savePositions'](_0x474064(0x2a7),window['$picturePositions']);}}}_0x3892a1&&!_0x585123[_0x474064(0x281)]&&_0x358c83();};const _0x371c3e=Game_Picture[_0x24943b(0x1e0)][_0x24943b(0x24e)];Game_Picture[_0x24943b(0x1e0)]['move']=function(_0x432813,_0x3d8a12,_0x356cc7,_0x9481fc,_0x685219,_0x23e03c,_0x164c86,_0x490176){const _0x6d7fb4=_0x24943b,_0x97af9b=$gameScreen[_0x6d7fb4(0x251)][_0x6d7fb4(0x25f)](this),_0x5b68bc=_0x97af9b+'_'+this['_filename'];if(window[_0x6d7fb4(0x291)][_0x5b68bc]){const _0x16cc95=window[_0x6d7fb4(0x291)][_0x5b68bc];_0x16cc95['x']!==undefined&&(_0x3d8a12=_0x16cc95['x']),_0x16cc95['y']!==undefined&&(_0x356cc7=_0x16cc95['y']);}_0x3d8a12===0x0&&_0x356cc7===0x0&&(_0x3d8a12=this['_x'],_0x356cc7=this['_y']),_0x371c3e[_0x6d7fb4(0x271)](this,_0x432813,_0x3d8a12,_0x356cc7,_0x9481fc,_0x685219,_0x23e03c,_0x164c86,_0x490176);};function _0x1baa8b(){const _0x45f543=_0x24943b;if(Utils[_0x45f543(0x2a9)]()){const _0xe8e172=require('fs'),_0x5c75cf=require(_0x45f543(0x1d5)),_0x3d94bc=_0x5c75cf[_0x45f543(0x1e1)](process[_0x45f543(0x1d7)]['filename'],'..','js','showTextPositions.json');if(_0xe8e172[_0x45f543(0x207)](_0x3d94bc))try{return JSON[_0x45f543(0x2a8)](_0xe8e172['readFileSync'](_0x3d94bc,_0x45f543(0x1c3)));}catch(_0x3dfdb4){return{};}}return{};}function _0x4a36ae(_0x33260c){const _0x20b4d4=_0x24943b;if(Utils[_0x20b4d4(0x2a9)]()){const _0x19a4a0=require('fs'),_0x1beaa7=require(_0x20b4d4(0x1d5)),_0x3dae43=_0x1beaa7[_0x20b4d4(0x1e1)](process[_0x20b4d4(0x1d7)]['filename'],'..','js','showTextPositions.json');try{const _0x542293={};for(const _0x1d3992 in _0x33260c){_0x542293[_0x1d3992]={'x':_0x33260c[_0x1d3992]['x'],'y':_0x33260c[_0x1d3992]['y']},_0x33260c[_0x1d3992][_0x20b4d4(0x276)]!==undefined&&(_0x542293[_0x1d3992]['width']=_0x33260c[_0x1d3992][_0x20b4d4(0x276)]),_0x33260c[_0x1d3992][_0x20b4d4(0x1bf)]!==undefined&&(_0x542293[_0x1d3992][_0x20b4d4(0x1bf)]=_0x33260c[_0x1d3992][_0x20b4d4(0x1bf)]);}_0x19a4a0['writeFileSync'](_0x3dae43,JSON[_0x20b4d4(0x1d9)](_0x542293,null,0x2)),console[_0x20b4d4(0x263)](_0x20b4d4(0x204),_0x542293);}catch(_0x1fd296){console[_0x20b4d4(0x25b)](_0x20b4d4(0x205),_0x1fd296);}}}function _0x520cc5(){const _0x5162df=_0x24943b;!Utils['isNwjs']()&&fetch(_0x5162df(0x20c))[_0x5162df(0x220)](_0x1079ac=>{return _0x1079ac['json']();})[_0x5162df(0x220)](_0x410404=>{const _0xb551e5=_0x5162df;_0x372756=_0x410404,localStorage['setItem'](_0xb551e5(0x1ed),JSON[_0xb551e5(0x1d9)](_0x410404));for(const _0x44c7be in _0x14e8ee){const _0x2053a7=_0x14e8ee[_0x44c7be];if(_0x2053a7&&_0x410404[_0x44c7be]){if(_0x410404[_0x44c7be]['x']!==undefined)_0x2053a7['x']=_0x410404[_0x44c7be]['x'];if(_0x410404[_0x44c7be]['y']!==undefined)_0x2053a7['y']=_0x410404[_0x44c7be]['y'];let _0x14d7f1=![];_0x410404[_0x44c7be][_0xb551e5(0x276)]!==undefined&&_0x2053a7['width']!==_0x410404[_0x44c7be][_0xb551e5(0x276)]&&(_0x2053a7[_0xb551e5(0x276)]=_0x410404[_0x44c7be][_0xb551e5(0x276)],_0x14d7f1=!![]);_0x410404[_0x44c7be][_0xb551e5(0x1bf)]!==undefined&&_0x2053a7[_0xb551e5(0x1bf)]!==_0x410404[_0x44c7be][_0xb551e5(0x1bf)]&&(_0x2053a7['height']=_0x410404[_0x44c7be]['height'],_0x14d7f1=!![]);if(_0x14d7f1){_0x2053a7[_0xb551e5(0x22e)]();if(_0x2053a7[_0xb551e5(0x23b)]){const _0x3c7971=_0x2053a7[_0xb551e5(0x28f)]||'left';_0x55ce6f(_0x2053a7,_0x2053a7[_0xb551e5(0x23b)],_0x3c7971);}}}}console[_0xb551e5(0x263)](_0xb551e5(0x1dd),_0x410404);})[_0x5162df(0x226)](_0x593d4c=>{const _0x37e10c=_0x5162df;console[_0x37e10c(0x1e5)](_0x37e10c(0x20b));const _0xbd4667=localStorage[_0x37e10c(0x1c8)](_0x37e10c(0x1ed));if(_0xbd4667)try{_0x372756=JSON[_0x37e10c(0x2a8)](_0xbd4667);}catch(_0x2de635){console['error'](_0x37e10c(0x27f));}});}_0x372756=_0x1baa8b();!Utils[_0x24943b(0x2a9)]()&&setTimeout(_0x520cc5,0x1f4);function _0x306a37(_0x54b516,_0x3bd163,_0x15774c){const _0x4f58e4=_0x24943b,_0x397ecb=0x1e;return _0x3bd163>=_0x54b516['x']+_0x54b516[_0x4f58e4(0x276)]-_0x397ecb&&_0x3bd163<=_0x54b516['x']+_0x54b516[_0x4f58e4(0x276)]&&_0x15774c>=_0x54b516['y']+_0x54b516[_0x4f58e4(0x1bf)]-_0x397ecb&&_0x15774c<=_0x54b516['y']+_0x54b516[_0x4f58e4(0x1bf)];}Scene_Map[_0x24943b(0x1e0)][_0x24943b(0x249)]=function(){const _0x9e6554=_0x24943b;if(!_0x93be59||!_0x14e8ee)return;_0x110766();if(_0x585123['isDraggingElement']&&_0x585123['elementType']===_0x9e6554(0x1ca))return;if(_0x363443&&_0x1bfea7&&_0x14e8ee[_0x1bfea7]){const _0x586fc6=_0x14e8ee[_0x1bfea7];if(TouchInput[_0x9e6554(0x221)]()){const _0x2a27f9=Math[_0x9e6554(0x254)](0x64,TouchInput['x']-_0x586fc6['x']),_0x48fff2=Math[_0x9e6554(0x254)](0x32,TouchInput['y']-_0x586fc6['y']),_0x4b3918={};_0x4b3918[_0x9e6554(0x285)]=_0x586fc6[_0x9e6554(0x1e6)]['fontSize'],_0x4b3918['fontBold']=_0x586fc6[_0x9e6554(0x1e6)][_0x9e6554(0x2a1)],_0x4b3918[_0x9e6554(0x1bb)]=_0x586fc6[_0x9e6554(0x1e6)][_0x9e6554(0x1bb)],_0x4b3918[_0x9e6554(0x1bc)]=_0x586fc6['contents'][_0x9e6554(0x1bc)],_0x4b3918[_0x9e6554(0x1e2)]=_0x586fc6[_0x9e6554(0x1e6)][_0x9e6554(0x1e2)],_0x4b3918['outlineWidth']=_0x586fc6[_0x9e6554(0x1e6)]['outlineWidth'];const _0x48f67f=_0x4b3918;_0x586fc6[_0x9e6554(0x276)]=_0x2a27f9,_0x586fc6[_0x9e6554(0x1bf)]=_0x48fff2,_0x586fc6[_0x9e6554(0x22e)](),_0x586fc6[_0x9e6554(0x1e6)][_0x9e6554(0x285)]=_0x48f67f[_0x9e6554(0x285)],_0x586fc6[_0x9e6554(0x1e6)]['fontBold']=_0x48f67f[_0x9e6554(0x2a1)],_0x586fc6[_0x9e6554(0x1e6)][_0x9e6554(0x1bb)]=_0x48f67f[_0x9e6554(0x1bb)],_0x586fc6[_0x9e6554(0x1e6)][_0x9e6554(0x1bc)]=_0x48f67f[_0x9e6554(0x1bc)],_0x586fc6[_0x9e6554(0x1e6)][_0x9e6554(0x1e2)]=_0x48f67f[_0x9e6554(0x1e2)],_0x586fc6['contents'][_0x9e6554(0x219)]=_0x48f67f[_0x9e6554(0x219)];if(_0x586fc6[_0x9e6554(0x23b)]){const _0x3567f9=_0x586fc6[_0x9e6554(0x28f)]||_0x9e6554(0x213);_0x55ce6f(_0x586fc6,_0x586fc6[_0x9e6554(0x23b)],_0x3567f9);}}else _0x363443=![],_0x372756[_0x1bfea7]=_0x372756[_0x1bfea7]||{},_0x372756[_0x1bfea7]['x']=_0x586fc6['x'],_0x372756[_0x1bfea7]['y']=_0x586fc6['y'],_0x372756[_0x1bfea7][_0x9e6554(0x276)]=_0x586fc6[_0x9e6554(0x276)],_0x372756[_0x1bfea7]['height']=_0x586fc6['height'],_0x4a36ae(_0x372756),_0x1bfea7=null;return;}let _0x197e16=null,_0x22f132=null;if(_0x585123[_0x9e6554(0x200)](_0x9e6554(0x264))){const _0x273363=_0x585123[_0x9e6554(0x255)]();_0x273363&&_0x273363[_0x9e6554(0x25c)]==='text'&&(_0x197e16=_0x273363['id'],_0x22f132=_0x273363['element'],_0x306a37(_0x22f132,TouchInput['x'],TouchInput['y'])&&_0x3f863d(_0x22f132['x']+_0x22f132['width'],_0x22f132['y']+_0x22f132[_0x9e6554(0x1bf)]));}if(_0x22f132){_0x22f132[_0x9e6554(0x1be)]=0xc8;if(TouchInput[_0x9e6554(0x216)]()){if(_0x306a37(_0x22f132,TouchInput['x'],TouchInput['y']))_0x363443=!![],_0x1bfea7=_0x197e16,resizeStartX=TouchInput['x'],resizeStartY=TouchInput['y'],originalWidth=_0x22f132[_0x9e6554(0x276)],originalHeight=_0x22f132['height'],_0x110766(),_0x585123[_0x9e6554(0x282)](_0x9e6554(0x264));else!_0x22f132[_0x9e6554(0x25e)]&&(_0x22f132[_0x9e6554(0x25e)]=!![],_0x22f132[_0x9e6554(0x2ac)]=_0x22f132['x']-TouchInput['x'],_0x22f132[_0x9e6554(0x298)]=_0x22f132['y']-TouchInput['y'],_0x585123['startDrag']('text'));}}for(const _0x4ed68a in _0x14e8ee){const _0x1aa3ac=_0x14e8ee[_0x4ed68a];if(!_0x1aa3ac||!_0x1aa3ac['_isDragging'])continue;if(TouchInput[_0x9e6554(0x221)]()){let _0x167bea=TouchInput['x']+_0x1aa3ac[_0x9e6554(0x2ac)],_0x2212bc=TouchInput['y']+_0x1aa3ac[_0x9e6554(0x298)];const _0x362299=_0x31265d(_0x1aa3ac,_0x9e6554(0x264),_0x167bea,_0x2212bc);_0x1aa3ac['x']=_0x362299['x'],_0x1aa3ac['y']=_0x362299['y'];}else{if(_0x1aa3ac[_0x9e6554(0x25e)]){const _0x21d210=_0x372756[_0x4ed68a]||{},_0x4919f1={..._0x21d210};_0x4919f1['x']=_0x1aa3ac['x'],_0x4919f1['y']=_0x1aa3ac['y'];const _0x5039dc=_0x4919f1;_0x5039dc[_0x9e6554(0x276)]===undefined&&(_0x5039dc[_0x9e6554(0x276)]=_0x1aa3ac[_0x9e6554(0x276)]),_0x5039dc[_0x9e6554(0x1bf)]===undefined&&(_0x5039dc[_0x9e6554(0x1bf)]=_0x1aa3ac[_0x9e6554(0x1bf)]),_0x372756[_0x4ed68a]=_0x5039dc,_0x4a36ae(_0x372756),_0x1aa3ac[_0x9e6554(0x25e)]=![],_0x585123[_0x9e6554(0x1f1)]();}}}};function _0x10c751(_0x2edc24){const _0xa31f43=_0x24943b;return _0x2edc24=_0x2edc24[_0xa31f43(0x240)](/v\[(\d+)\]/g,(_0x1bd0c0,_0x17e21d)=>{const _0x23cfc9=_0xa31f43;return $gameVariables[_0x23cfc9(0x247)](parseInt(_0x17e21d));}),_0x2edc24=_0x2edc24[_0xa31f43(0x240)](/g\[\]/g,()=>{const _0x18d264=_0xa31f43;return $gameParty[_0x18d264(0x20a)]();}),_0x2edc24;}function _0x13a096(_0x1a1607){const _0x1d3559=_0x24943b;if(!_0x14e8ee[_0x1a1607])return![];const _0x52512b=_0x14e8ee[_0x1a1607];return _0x1bfea7===_0x1a1607&&(_0x363443=![],_0x1bfea7=null),SceneManager[_0x1d3559(0x1cc)]&&SceneManager['_scene'][_0x1d3559(0x1f3)]['includes'](_0x52512b)&&SceneManager[_0x1d3559(0x1cc)]['removeChild'](_0x52512b),_0x52512b[_0x1d3559(0x1d1)](),delete _0x14e8ee[_0x1a1607],!![];}function _0x223df0(_0x34d56f,_0x1a1c09){const _0x587aac=_0x24943b;if(!_0x14e8ee[_0x34d56f])return![];const _0x5b697b=_0x14e8ee[_0x34d56f];_0x5b697b[_0x587aac(0x1bd)]=_0x5b697b[_0x587aac(0x1be)],_0x5b697b[_0x587aac(0x21d)]=_0x5b697b[_0x587aac(0x238)],_0x5b697b[_0x587aac(0x21a)]=_0x1a1c09,_0x5b697b[_0x587aac(0x290)]=0x0,_0x5b697b[_0x587aac(0x225)]=!![];const _0x20a5f4=_0x5b697b['update'];return _0x5b697b['update']=function(){const _0x5f2765=_0x587aac;_0x20a5f4?_0x20a5f4[_0x5f2765(0x271)](this):Window_Base[_0x5f2765(0x1e0)][_0x5f2765(0x283)]['call'](this);if(this['_isFadingOut']){this[_0x5f2765(0x290)]++;const _0x5728b2=this[_0x5f2765(0x290)]/this[_0x5f2765(0x21a)];this['opacity']=this[_0x5f2765(0x1bd)]*(0x1-_0x5728b2),this[_0x5f2765(0x238)]=this[_0x5f2765(0x21d)]*(0x1-_0x5728b2),this[_0x5f2765(0x290)]>=this[_0x5f2765(0x21a)]&&(this['_isFadingOut']=![],_0x13a096(_0x34d56f));}},!![];}function _0x55ce6f(_0x4c2e1c,_0x2a7bd8,_0x4b1891){const _0x4ee5a3=_0x24943b,_0x24d06e=_0x4c2e1c['contents'][_0x4ee5a3(0x285)],_0xe2a072=_0x4c2e1c[_0x4ee5a3(0x1e6)][_0x4ee5a3(0x2a1)],_0x2266c1=_0x4c2e1c[_0x4ee5a3(0x1e6)][_0x4ee5a3(0x1bb)],_0x55b1b8=_0x4c2e1c[_0x4ee5a3(0x1e6)][_0x4ee5a3(0x1bc)],_0x1aa0ac=_0x4c2e1c[_0x4ee5a3(0x1e6)][_0x4ee5a3(0x1e2)],_0x54229b=_0x4c2e1c[_0x4ee5a3(0x1e6)][_0x4ee5a3(0x219)];let _0x1af87e=_0x2a7bd8;_0x1af87e=_0x1af87e['replace'](/\\n/g,'\x0a');const _0x2ef1e6=_0x4c2e1c[_0x4ee5a3(0x28d)](),_0x261731=_0x1af87e[_0x4ee5a3(0x296)]('\x0a'),_0x4e77a8=_0x4c2e1c[_0x4ee5a3(0x1e6)][_0x4ee5a3(0x1de)]||_0x4c2e1c[_0x4ee5a3(0x24b)]();let _0x278676=0x0;_0x261731[_0x4ee5a3(0x227)](_0x1dd060=>{const _0x5d7eb4=_0x4ee5a3;if(_0x1dd060[_0x5d7eb4(0x273)]()===''){_0x278676+=_0x4e77a8;return;}const _0x11ed70=/\s/['test'](_0x1dd060)&&!/[\u3040-\u30FF\u3400-\u4DBF\u4E00-\u9FFF\uF900-\uFAFF\uFF66-\uFF9F]/[_0x5d7eb4(0x230)](_0x1dd060);if(_0x11ed70){let _0x4f7ef4=_0x1dd060[_0x5d7eb4(0x296)]('\x20'),_0x1885df='';for(let _0x4fed2c=0x0;_0x4fed2c<_0x4f7ef4[_0x5d7eb4(0x1e9)];_0x4fed2c++){let _0x1c9aae=_0x4f7ef4[_0x4fed2c],_0x30f09d=_0x1885df+(_0x1885df?'\x20':'')+_0x1c9aae,_0x38307e=_0x4c2e1c['textWidth'](_0x30f09d);_0x38307e>_0x2ef1e6?_0x1885df!==''?(_0x5bdb72(_0x4c2e1c,_0x1885df,_0x278676,_0x4b1891,_0x2ef1e6),_0x278676+=_0x4e77a8,_0x1885df=_0x1c9aae):(_0x5bdb72(_0x4c2e1c,_0x1c9aae,_0x278676,_0x4b1891,_0x2ef1e6),_0x278676+=_0x4e77a8,_0x1885df=''):_0x1885df=_0x30f09d;}_0x1885df&&(_0x5bdb72(_0x4c2e1c,_0x1885df,_0x278676,_0x4b1891,_0x2ef1e6),_0x278676+=_0x4e77a8);}else{let _0x5eed6c='';for(let _0x1bb5d7=0x0;_0x1bb5d7<_0x1dd060[_0x5d7eb4(0x1e9)];_0x1bb5d7++){let _0x58c944=_0x1dd060[_0x1bb5d7],_0x808078=_0x5eed6c+_0x58c944,_0x40c316=_0x4c2e1c[_0x5d7eb4(0x1f8)](_0x808078);_0x40c316>_0x2ef1e6?(_0x5bdb72(_0x4c2e1c,_0x5eed6c,_0x278676,_0x4b1891,_0x2ef1e6),_0x278676+=_0x4e77a8,_0x5eed6c=_0x58c944):_0x5eed6c=_0x808078;}_0x5eed6c&&(_0x5bdb72(_0x4c2e1c,_0x5eed6c,_0x278676,_0x4b1891,_0x2ef1e6),_0x278676+=_0x4e77a8);}}),_0x4c2e1c[_0x4ee5a3(0x1e6)][_0x4ee5a3(0x285)]=_0x24d06e,_0x4c2e1c[_0x4ee5a3(0x1e6)][_0x4ee5a3(0x2a1)]=_0xe2a072,_0x4c2e1c[_0x4ee5a3(0x1e6)][_0x4ee5a3(0x1bb)]=_0x2266c1,_0x4c2e1c['contents'][_0x4ee5a3(0x1bc)]=_0x55b1b8,_0x4c2e1c[_0x4ee5a3(0x1e6)][_0x4ee5a3(0x1e2)]=_0x1aa0ac,_0x4c2e1c[_0x4ee5a3(0x1e6)][_0x4ee5a3(0x219)]=_0x54229b;}function _0x5bdb72(_0x11e1e9,_0x88a26c,_0x14d930,_0x352a9c,_0x440df5){const _0x14b89d=_0x24943b,_0x43784e=_0x88a26c[_0x14b89d(0x273)](),_0x263d7a=_0x11e1e9[_0x14b89d(0x1f8)](_0x43784e);let _0x57972c=0x0;switch(_0x352a9c){case _0x14b89d(0x27a):_0x57972c=_0x440df5-_0x263d7a;break;case _0x14b89d(0x1cf):_0x57972c=(_0x440df5-_0x263d7a)/0x2;break;default:_0x57972c=0x0;}_0x11e1e9[_0x14b89d(0x223)](_0x43784e,_0x57972c,_0x14d930,_0x440df5,_0x14b89d(0x213));}PluginManager['registerCommand'](_0x3ca8d9,_0x24943b(0x24a),_0x3cb540=>{const _0x26533f=_0x24943b,_0x31d5ba=_0x3cb540['sceneName'],_0x4bbf50={};_0x4bbf50['Scene_Item']=Scene_Item,_0x4bbf50[_0x26533f(0x1fb)]=Scene_Options,_0x4bbf50[_0x26533f(0x252)]=Scene_GameEnd,_0x4bbf50[_0x26533f(0x275)]=Scene_Save,_0x4bbf50[_0x26533f(0x2a4)]=Scene_Load,_0x4bbf50['Scene_Status']=Scene_Status,_0x4bbf50[_0x26533f(0x1ff)]=Scene_Equip,_0x4bbf50[_0x26533f(0x24f)]=Scene_Skill;const _0x3bd670=_0x4bbf50;_0x3bd670[_0x31d5ba]?SceneManager[_0x26533f(0x27e)](_0x3bd670[_0x31d5ba]):console['error']('Scene\x20not\x20found:\x20'+_0x31d5ba);}),PluginManager[_0x24943b(0x27c)](_0x3ca8d9,_0x24943b(0x2aa),_0x55865a=>{const _0x5cb11c=_0x24943b,_0x2f3053=_0x55865a['targets'][_0x5cb11c(0x296)](',')[_0x5cb11c(0x272)](_0x426ca7=>_0x426ca7[_0x5cb11c(0x273)]());_0x2f3053[_0x5cb11c(0x227)](_0x40b0dc=>{const _0x126545=_0x5cb11c;if(_0x40b0dc[_0x126545(0x1ef)]('-')){const [_0x5e0dc8,_0x3f6d6a]=_0x40b0dc[_0x126545(0x296)]('-')[_0x126545(0x272)](_0x4dddec=>parseInt(_0x4dddec[_0x126545(0x273)]()));if(!isNaN(_0x5e0dc8)&&!isNaN(_0x3f6d6a))for(let _0x1da587=_0x5e0dc8;_0x1da587<=_0x3f6d6a;_0x1da587++){$gameScreen[_0x126545(0x202)](_0x1da587);}}else{if(!isNaN(parseInt(_0x40b0dc))){const _0x31579f=parseInt(_0x40b0dc);$gameScreen[_0x126545(0x202)](_0x31579f);}else{if($gameScreen[_0x126545(0x251)])for(let _0x4ef5ba=0x1;_0x4ef5ba<$gameScreen['_pictures'][_0x126545(0x1e9)];_0x4ef5ba++){const _0x1d2b18=$gameScreen[_0x126545(0x251)][_0x4ef5ba];if(_0x1d2b18&&_0x1d2b18[_0x126545(0x29c)]){const _0x5a0604=_0x3250d8(_0x1d2b18['_filename']);_0x5a0604===_0x40b0dc&&$gameScreen[_0x126545(0x202)](_0x4ef5ba);}}}}});}),PluginManager[_0x24943b(0x27c)](_0x3ca8d9,_0x24943b(0x231),_0x968750=>{const _0x560d50=_0x24943b;if($gameScreen[_0x560d50(0x251)])for(let _0x46a824=0x1;_0x46a824<$gameScreen[_0x560d50(0x251)][_0x560d50(0x1e9)];_0x46a824++){$gameScreen[_0x560d50(0x251)][_0x46a824]&&$gameScreen[_0x560d50(0x202)](_0x46a824);}}),PluginManager[_0x24943b(0x27c)](_0x3ca8d9,_0x24943b(0x22b),_0x24dfa2=>{const _0x685361=_0x24943b,_0x533edb=_0x24dfa2['sourcePicture']['trim'](),_0x4408b5=_0x24dfa2[_0x685361(0x294)][_0x685361(0x273)]();let _0x515255=parseInt(_0x533edb);if(isNaN(_0x515255)){if($gameScreen[_0x685361(0x251)])for(let _0x1c82c2=0x1;_0x1c82c2<$gameScreen['_pictures'][_0x685361(0x1e9)];_0x1c82c2++){const _0x85c0b3=$gameScreen['_pictures'][_0x1c82c2];if(_0x85c0b3&&_0x85c0b3['_filename']){const _0x3e4eea=_0x3250d8(_0x85c0b3[_0x685361(0x29c)]);if(_0x3e4eea===_0x533edb){_0x515255=_0x1c82c2;break;}}}}let _0xad9a63=parseInt(_0x4408b5);if(isNaN(_0xad9a63)){if($gameScreen['_pictures'])for(let _0x55f039=0x1;_0x55f039<$gameScreen[_0x685361(0x251)][_0x685361(0x1e9)];_0x55f039++){const _0x3a62cb=$gameScreen[_0x685361(0x251)][_0x55f039];if(_0x3a62cb&&_0x3a62cb['_filename']){const _0x27f6c6=_0x3250d8(_0x3a62cb[_0x685361(0x29c)]);if(_0x27f6c6===_0x4408b5){_0xad9a63=_0x55f039;break;}}}}if(_0x515255>0x0&&_0xad9a63>0x0&&$gameScreen[_0x685361(0x251)][_0x515255]&&$gameScreen[_0x685361(0x251)][_0xad9a63]){const _0x17c492=$gameScreen[_0x685361(0x251)][_0x515255],_0x2b7a75=$gameScreen['_pictures'][_0xad9a63];_0x17c492['_x']=_0x2b7a75['_x'],_0x17c492['_y']=_0x2b7a75['_y'];const _0x4e0dfd=_0x515255+'_'+_0x17c492['_filename'],_0x5797ee={};_0x5797ee['x']=_0x2b7a75['_x'],_0x5797ee['y']=_0x2b7a75['_y'],window[_0x685361(0x24c)][_0x4e0dfd]=_0x5797ee,savePicturePositions(window[_0x685361(0x24c)]);}}),PluginManager['registerCommand'](_0x3ca8d9,_0x24943b(0x1fa),_0x338575=>{const _0x7a90ec=_0x24943b,_0x1d526c=_0x338575['url'][_0x7a90ec(0x273)]();if(!_0x1d526c[_0x7a90ec(0x1f4)](/^https?:\/\//i)){console[_0x7a90ec(0x25b)](_0x7a90ec(0x29b));return;}const _0x39b0c1=Utils[_0x7a90ec(0x1f5)]();if(_0x39b0c1)window[_0x7a90ec(0x262)][_0x7a90ec(0x22f)]=_0x1d526c;else try{if(process[_0x7a90ec(0x1d3)][_0x7a90ec(0x214)]){const {shell:_0x43e7e7}=require('electron');_0x43e7e7[_0x7a90ec(0x253)](_0x1d526c);}else{const _0x4f1209=require(_0x7a90ec(0x241));_0x4f1209[_0x7a90ec(0x208)][_0x7a90ec(0x253)](_0x1d526c);}}catch(_0x50abdb){window[_0x7a90ec(0x1fd)](_0x1d526c,_0x7a90ec(0x256));}}),PluginManager[_0x24943b(0x27c)](_0x3ca8d9,'ShowText',_0x5234c9=>{const _0x1dc3ff=_0x24943b,{text:_0x4c9894,transparent:_0x433bcb,id:_0x472f36,update:update=_0x1dc3ff(0x242)}=_0x5234c9,_0x2653c0=_0x5234c9['sizePosition']['split'](',')[_0x1dc3ff(0x272)](_0x52e6ca=>_0x52e6ca[_0x1dc3ff(0x273)]());let _0x54f541=_0x2653c0[0x0]||0x12c,_0x328018=_0x2653c0[0x1]||0xc8,_0x49f192=_0x2653c0[0x2]||0x0,_0x5102b9=_0x2653c0[0x3]||0x0;_0x372756[_0x472f36]&&(_0x49f192=_0x372756[_0x472f36]['x']!==undefined?_0x372756[_0x472f36]['x']:_0x49f192,_0x5102b9=_0x372756[_0x472f36]['y']!==undefined?_0x372756[_0x472f36]['y']:_0x5102b9,_0x54f541=_0x372756[_0x472f36][_0x1dc3ff(0x276)]!==undefined?_0x372756[_0x472f36][_0x1dc3ff(0x276)]:_0x54f541,_0x328018=_0x372756[_0x472f36][_0x1dc3ff(0x1bf)]!==undefined?_0x372756[_0x472f36][_0x1dc3ff(0x1bf)]:_0x328018);const _0x122ba1=JSON[_0x1dc3ff(0x2a8)](_0x5234c9[_0x1dc3ff(0x260)]||'{}'),{fontSize:fontSize='28',fontColor:fontColor='',outlineColor:outlineColor='',lineHeight:lineHeight='',boldText:boldText='false',align:align=_0x1dc3ff(0x213)}=_0x122ba1;_0x14e8ee[_0x472f36]&&_0x13a096(_0x472f36);const _0x5c3712=_0x10c751(fontSize),_0x540549=_0x10c751(lineHeight),_0x3f1548=_0x10c751(fontColor),_0x565d65=outlineColor?_0x10c751(outlineColor):null,_0xd0fb6f=_0x29d6a7=>/[a-zA-Z]/[_0x1dc3ff(0x230)](_0x29d6a7),_0x34af8e=_0xd0fb6f(_0x49f192)?eval(_0x49f192)-Number(_0x54f541)/0x2:eval(_0x49f192),_0x4092d4=_0xd0fb6f(_0x5102b9)?eval(_0x5102b9)-Number(_0x328018)/0x2:eval(_0x5102b9);let _0x39918c;Imported&&Imported['Hendrix_Localization']?_0x39918c=Hendrix_Localization(_0x10c751(_0x4c9894)):_0x39918c=_0x10c751(_0x4c9894);const _0xfb8dbd=new Window_Base(new Rectangle(_0x34af8e,_0x4092d4,_0x54f541,_0x328018));_0xfb8dbd[_0x1dc3ff(0x1e6)]['fontSize']=_0x5c3712?Number(_0x5c3712):$gameSystem[_0x1dc3ff(0x2af)]();_0x540549&&(_0xfb8dbd[_0x1dc3ff(0x1e6)][_0x1dc3ff(0x1de)]=Number(_0x540549));_0xfb8dbd[_0x1dc3ff(0x2ab)](_0x3f1548||ColorManager[_0x1dc3ff(0x2b0)]());_0x433bcb===_0x1dc3ff(0x1e7)&&_0xfb8dbd['setBackgroundType'](0x2);if(_0x565d65){const _0x508b85=parseInt(_0x565d65[_0x1dc3ff(0x2ae)](0x1,0x3),0x10),_0x3faed4=parseInt(_0x565d65['slice'](0x3,0x5),0x10),_0x3c9a5f=parseInt(_0x565d65['slice'](0x5,0x7),0x10);_0xfb8dbd['contents'][_0x1dc3ff(0x1e2)]=_0x1dc3ff(0x289)+_0x508b85+',\x20'+_0x3faed4+',\x20'+_0x3c9a5f+')',_0xfb8dbd[_0x1dc3ff(0x1e6)]['outlineWidth']=0x2;}else _0xfb8dbd['contents'][_0x1dc3ff(0x1e2)]='rgba(0,\x200,\x200,\x200)';boldText==='true'?_0xfb8dbd['contents'][_0x1dc3ff(0x2a1)]=!![]:_0xfb8dbd[_0x1dc3ff(0x1e6)][_0x1dc3ff(0x2a1)]=![];_0x55ce6f(_0xfb8dbd,_0x39918c,align);update===_0x1dc3ff(0x1e7)&&(_0xfb8dbd[_0x1dc3ff(0x250)]=0x0,_0xfb8dbd['update']=function(){const _0x3d700c=_0x1dc3ff;Window_Base[_0x3d700c(0x1e0)][_0x3d700c(0x283)][_0x3d700c(0x271)](this),this[_0x3d700c(0x250)]++,this[_0x3d700c(0x250)]%0x2===0x0&&(_0x39918c=Hendrix_Localization(_0x10c751(_0x4c9894)),this[_0x3d700c(0x1e6)][_0x3d700c(0x1e4)](),_0x55ce6f(this,_0x39918c,align));});_0xfb8dbd[_0x1dc3ff(0x2b1)]=!![],_0xfb8dbd[_0x1dc3ff(0x2ad)]=_0x472f36,_0xfb8dbd[_0x1dc3ff(0x2ac)]=0x0,_0xfb8dbd[_0x1dc3ff(0x298)]=0x0,_0xfb8dbd[_0x1dc3ff(0x25e)]=![],_0xfb8dbd[_0x1dc3ff(0x23b)]=_0x39918c,_0xfb8dbd[_0x1dc3ff(0x28f)]=align;if(!_0x372756[_0x472f36]){const _0x20f228={};_0x20f228['x']=_0x34af8e,_0x20f228['y']=_0x4092d4,_0x20f228[_0x1dc3ff(0x276)]=_0x54f541,_0x20f228['height']=_0x328018,_0x372756[_0x472f36]=_0x20f228,_0x4a36ae(_0x372756);}const _0x215344={};_0x215344[_0x1dc3ff(0x264)]=_0x39918c,_0x215344['x']=_0xfb8dbd['x'],_0x215344['y']=_0xfb8dbd['y'],_0x215344['width']=_0x54f541,_0x215344[_0x1dc3ff(0x1bf)]=_0x328018,_0x215344[_0x1dc3ff(0x285)]=_0x5c3712,_0x215344[_0x1dc3ff(0x29f)]=_0x3f1548,_0x215344[_0x1dc3ff(0x1e2)]=_0x565d65,_0x215344[_0x1dc3ff(0x24b)]=_0x540549,_0x215344[_0x1dc3ff(0x1b8)]=boldText==='true',_0x215344[_0x1dc3ff(0x1fe)]=_0x433bcb==='true',_0x215344['align']=align,_0x215344['update']=update===_0x1dc3ff(0x1e7),_0x215344[_0x1dc3ff(0x22a)]=_0x4c9894,_0x1375a2[_0x472f36]=_0x215344,SceneManager['_scene'][_0x1dc3ff(0x29a)](_0xfb8dbd),_0x14e8ee[_0x472f36]=_0xfb8dbd;}),PluginManager['registerCommand'](_0x3ca8d9,_0x24943b(0x218),_0x5851c2=>{const {id:_0x183fee,fadeOut:fadeOut='0'}=_0x5851c2;_0x1375a2[_0x183fee]&&delete _0x1375a2[_0x183fee];const _0x2bb3ab=parseInt(fadeOut)||0x0;_0x2bb3ab<=0x0?_0x13a096(_0x183fee):_0x223df0(_0x183fee,_0x2bb3ab);}),PluginManager[_0x24943b(0x27c)](_0x3ca8d9,'EraseAllText',_0x4d343e=>{const _0x15f8fd=_0x24943b,{fadeOut:fadeOut='0'}=_0x4d343e;_0x1375a2={};const _0xce28eb=parseInt(fadeOut)||0x0,_0x202038=Object[_0x15f8fd(0x22c)](_0x14e8ee);_0xce28eb<=0x0?_0x202038['forEach'](_0x32b320=>_0x13a096(_0x32b320)):_0x202038[_0x15f8fd(0x227)](_0x17492e=>_0x223df0(_0x17492e,_0xce28eb));});const _0x3988c0=Scene_Map['prototype'][_0x24943b(0x233)];Scene_Map[_0x24943b(0x1e0)][_0x24943b(0x233)]=function(){const _0x61ae56=_0x24943b;_0x3988c0['call'](this),_0x14e8ee={},_0x8b3f55=_0x201008();for(const _0x51fb in _0x1375a2){const _0x2aaa79=_0x1375a2[_0x51fb],_0x5d05e2=new Window_Base(new Rectangle(_0x2aaa79['x'],_0x2aaa79['y'],_0x2aaa79[_0x61ae56(0x276)],_0x2aaa79['height']));if(_0x2aaa79[_0x61ae56(0x285)])_0x5d05e2[_0x61ae56(0x1e6)][_0x61ae56(0x285)]=_0x2aaa79['fontSize'];if(_0x2aaa79[_0x61ae56(0x29f)])_0x5d05e2[_0x61ae56(0x2ab)](_0x2aaa79[_0x61ae56(0x29f)]);_0x2aaa79['outlineColor']&&(_0x5d05e2[_0x61ae56(0x1e6)][_0x61ae56(0x1e2)]=_0x2aaa79[_0x61ae56(0x1e2)],_0x5d05e2['contents'][_0x61ae56(0x219)]=0x2);if(_0x2aaa79[_0x61ae56(0x24b)])_0x5d05e2[_0x61ae56(0x1e6)]['_lineHeight']=_0x2aaa79[_0x61ae56(0x24b)];_0x5d05e2[_0x61ae56(0x1e6)][_0x61ae56(0x2a1)]=_0x2aaa79[_0x61ae56(0x1b8)],_0x2aaa79[_0x61ae56(0x1fe)]&&_0x5d05e2['setBackgroundType'](0x2),_0x55ce6f(_0x5d05e2,_0x2aaa79[_0x61ae56(0x264)],_0x2aaa79[_0x61ae56(0x2a5)]),_0x2aaa79['update']&&(_0x5d05e2['frameCount']=0x0,_0x5d05e2[_0x61ae56(0x283)]=function(){const _0x2259b9=_0x61ae56;Window_Base['prototype'][_0x2259b9(0x283)]['call'](this),this[_0x2259b9(0x250)]++;if(this[_0x2259b9(0x250)]%0x2===0x0){const _0x5dc116=_0x10c751(_0x2aaa79['updateText']);this[_0x2259b9(0x1e6)]['clear'](),_0x55ce6f(this,_0x5dc116,_0x2aaa79[_0x2259b9(0x2a5)]);}}),_0x5d05e2['_draggable']=!![],_0x5d05e2[_0x61ae56(0x2ad)]=_0x51fb,_0x5d05e2['_dragOffsetX']=0x0,_0x5d05e2['_dragOffsetY']=0x0,_0x5d05e2[_0x61ae56(0x25e)]=![],_0x5d05e2[_0x61ae56(0x23b)]=_0x2aaa79[_0x61ae56(0x264)],_0x5d05e2[_0x61ae56(0x28f)]=_0x2aaa79['align'],this[_0x61ae56(0x29a)](_0x5d05e2),_0x14e8ee[_0x51fb]=_0x5d05e2;}};const _0x4330df=Scene_Map[_0x24943b(0x1e0)]['createAllWindows'];Scene_Map[_0x24943b(0x1e0)]['createAllWindows']=function(){const _0x24cc76=_0x24943b;_0x4330df[_0x24cc76(0x271)](this),this[_0x24cc76(0x29e)]=![],this[_0x24cc76(0x1e3)](),_0x487675[_0x24cc76(0x1dc)](this),_0x3fe1af['sprite']=_0x2e32ba(),this['addChild'](_0x3fe1af[_0x24cc76(0x23e)]);};const _0xdb1fea=Scene_Map[_0x24943b(0x1e0)][_0x24943b(0x283)];Scene_Map[_0x24943b(0x1e0)][_0x24943b(0x283)]=function(){const _0x4570fd=_0x24943b;_0xdb1fea[_0x4570fd(0x271)](this),Input[_0x4570fd(0x216)]('pagedown')&&Utils[_0x4570fd(0x1f7)](_0x4570fd(0x230))&&(_0x93be59=!_0x93be59,this[_0x4570fd(0x280)]()),!_0x93be59&&(_0x487675[_0x4570fd(0x236)](_0x4570fd(0x1b9)),_0x487675[_0x4570fd(0x236)]('text_horizontal')),this[_0x4570fd(0x29e)]&&this[_0x4570fd(0x232)](),this[_0x4570fd(0x249)]();};const _0x2ea0e6=Scene_Map[_0x24943b(0x1e0)][_0x24943b(0x277)];Scene_Map[_0x24943b(0x1e0)][_0x24943b(0x277)]=function(){const _0x5ac2be=_0x24943b;_0x2ea0e6[_0x5ac2be(0x271)](this);_0x8b3f55&&(this[_0x5ac2be(0x1f3)][_0x5ac2be(0x1ef)](_0x8b3f55)&&this[_0x5ac2be(0x287)](_0x8b3f55),_0x8b3f55=null);for(const _0x412149 in _0x5804c8){_0x5804c8[_0x412149]&&this[_0x5ac2be(0x1f3)][_0x5ac2be(0x1ef)](_0x5804c8[_0x412149])&&this['removeChild'](_0x5804c8[_0x412149]);}_0x5804c8={};},window[_0x24943b(0x21b)]=function(_0x250f0c,_0x259694){const _0x4ae79f=_0x24943b;if(!_0x250f0c||!_0x259694)return![];if(_0x259694!==_0x4ae79f(0x217)&&_0x259694!==_0x4ae79f(0x1c2))return![];if(_0x93be59)return![];const _0x33367c=TouchInput['x'],_0x1dc55a=TouchInput['y'],_0x40ed5b=TouchInput[_0x4ae79f(0x216)]();if(_0x259694==='click'&&!_0x40ed5b)return![];if(!$gameScreen||!$gameScreen[_0x4ae79f(0x251)])return![];let _0x3a324f=[];const _0x58de68=parseInt(_0x250f0c);if(!isNaN(_0x58de68)){if($gameScreen[_0x4ae79f(0x251)][_0x58de68]){const _0x479f66={};_0x479f66['id']=_0x58de68,_0x479f66[_0x4ae79f(0x1ca)]=$gameScreen[_0x4ae79f(0x251)][_0x58de68],_0x3a324f[_0x4ae79f(0x27e)](_0x479f66);}}else for(let _0x79601b=0x1;_0x79601b<$gameScreen[_0x4ae79f(0x251)][_0x4ae79f(0x1e9)];_0x79601b++){const _0xca1efe=$gameScreen[_0x4ae79f(0x251)][_0x79601b];if(_0xca1efe&&_0xca1efe[_0x4ae79f(0x29c)]){const _0x3fa2a1=_0x3250d8(_0xca1efe[_0x4ae79f(0x29c)]);if(_0x3fa2a1===_0x250f0c){const _0x2af771={};_0x2af771['id']=_0x79601b,_0x2af771[_0x4ae79f(0x1ca)]=_0xca1efe,_0x3a324f[_0x4ae79f(0x27e)](_0x2af771);}}}for(const _0x5e413e of _0x3a324f){const _0x69429c=SceneManager[_0x4ae79f(0x1cc)]['_spriteset'][_0x4ae79f(0x1b7)][_0x4ae79f(0x1f3)][_0x4ae79f(0x1db)](_0x493cee=>_0x493cee['_pictureId']===_0x5e413e['id']);if(!_0x69429c||!_0x69429c[_0x4ae79f(0x27d)]||!_0x69429c['bitmap'][_0x4ae79f(0x292)]())continue;const _0x221c4c=_0x4856a3(_0x5e413e[_0x4ae79f(0x1ca)],_0x69429c);if(_0x3b2564(_0x33367c,_0x1dc55a,_0x221c4c))return!![];}return![];};})());