<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
        <meta name="viewport" content="user-scalable=no">
        <link rel="icon" href="icon/icon.png" type="image/png">
        <link rel="apple-touch-icon" href="icon/icon.png">
        <link rel="stylesheet" type="text/css" href="css/game.css">
        <title>Bagholderz Odyssey</title>
    </head>
    <body style="background-color: black">
        <!-- EARLY FIXER BLOCK -->
        <script type="text/javascript">
            // Patch 'process' if missing
            if (typeof process === 'undefined') {
                window.process = { env: { NODE_ENV: 'production' } };
                console.log("ðŸ©¹ Patched 'process' for browser");
            }

            // Patch 'require' to prevent errors
            if (typeof require === 'undefined') {
                window.require = function () {
                    console.warn("Dummy require() called â€“ ignored in browser mode.");
                    return {}; // Return dummy object
                };
            }

            // Patch FileManager for CharacterCreatorEX browser compatibility
            if (typeof FileManager !== 'undefined' && !FileManager.checkDataExists) {
                FileManager.checkDataExists = function () {
                    return true;
                };
                console.log("ðŸ©¹ Patched FileManager.checkDataExists");
            }

            // Patch Utils.filename to avoid FOSSIL filename read error
            if (typeof Utils !== 'undefined' && !Utils.filename) {
                Utils.filename = function (path) {
                    return path.split('/').pop();
                };
                console.log("ðŸ©¹ Patched Utils.filename for browser");
            }
        </script>

        <!-- LOAD FOSSIL -->
        <script type="text/javascript" src="js/plugins/FOSSIL.js"></script>
    </body>
</html>
